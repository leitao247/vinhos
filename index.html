<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S&P Expert Console v20.0 (Data Sanitized)</title>
    <style>
        /* DESIGN SYSTEM: "THE CELLAR" */
        :root {
            --primary: #5D1823;
            --secondary: #1F252E;
            --gold: #C0A062;
            --paper: #FFFFFF;
            --text: #333;
            --gray: #E0E0E0;
        }

        body { font-family: 'Georgia', serif; background-color: #F4F4F4; color: var(--text); margin: 0; padding: 20px; }
        .container { max-width: 1000px; margin: 0 auto; }
        
        header { text-align: center; margin-bottom: 30px; padding-bottom: 20px; border-bottom: 2px solid var(--gold); }
        h1 { font-family: 'Helvetica Neue', sans-serif; letter-spacing: 3px; font-weight: 300; text-transform: uppercase; color: var(--primary); margin:0; }
        .subtitle { font-family: sans-serif; font-size: 0.8rem; color: #666; margin-top: 5px; text-transform: uppercase; letter-spacing: 1px; }

        .tabs { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
        .tab-btn { background: transparent; border: 1px solid var(--secondary); color: var(--secondary); padding: 10px 20px; cursor: pointer; font-family: sans-serif; text-transform: uppercase; letter-spacing: 1px; transition: 0.3s; }
        .tab-btn.active { background: var(--secondary); color: #fff; }

        .control-panel { background: #fff; padding: 30px; border-top: 4px solid var(--primary); box-shadow: 0 5px 15px rgba(0,0,0,0.05); display: none; }
        .control-panel.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }

        select, button.action-btn { width: 100%; padding: 15px; font-size: 1rem; margin-bottom: 15px; border: 1px solid #ccc; }
        button.action-btn { background-color: var(--primary); color: #fff; border: none; text-transform: uppercase; font-weight: bold; letter-spacing: 1px; cursor: pointer; transition: 0.3s; }
        button.action-btn:hover { background-color: #3e0b12; }

        .budget-group { display: flex; gap: 10px; }
        .budget-btn { flex: 1; padding: 15px; background: #fff; border: 1px solid #ccc; cursor: pointer; font-weight: bold; color: var(--secondary); transition: 0.2s; }
        .budget-btn:hover { background: var(--secondary); color: #fff; }

        .result-card { background: #fff; margin-top: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); display: flex; position: relative; flex-wrap: wrap; }
        .visual-side { width: 35%; background: var(--secondary); display: flex; align-items: center; justify-content: center; padding: 20px; color: #fff; flex-direction: column; text-align: center; }
        .visual-img { width: 100%; height: 200px; object-fit: cover; margin-bottom: 15px; filter: brightness(0.9); border: 2px solid rgba(255,255,255,0.2); }
        .technical-side { width: 65%; padding: 30px; background-color: var(--paper); border-left: 1px solid var(--gray); box-sizing: border-box; }
        
        .role-badge { font-family: sans-serif; font-size: 0.7rem; text-transform: uppercase; letter-spacing: 1px; font-weight: bold; color: #999; margin-bottom: 5px; display: block; }
        .wine-title { font-size: 1.6rem; color: var(--primary); margin: 0 0 5px 0; line-height: 1.1; font-weight: bold; }
        .wine-meta { font-family: sans-serif; font-size: 0.85rem; color: #555; margin-bottom: 20px; }
        
        .enologist-box { background: #f9f9f9; border-left: 4px solid var(--gold); padding: 15px; margin-top: 20px; }
        .quote { font-style: italic; color: #444; line-height: 1.6; font-size: 1rem; margin: 10px 0; }
        .chem-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-top: 15px; padding-top: 10px; border-top: 1px solid #eee; }
        .chem-item { font-family: sans-serif; font-size: 0.75rem; color: #777; text-align: center; }
        .chem-item span { display: block; font-weight: bold; color: var(--primary); font-size: 0.9rem; margin-top: 2px; }

        .kit-list { list-style: none; padding: 0; margin: 0; }
        .kit-item { display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px dashed #ccc; font-size: 0.9rem; }
        .kit-item strong { color: var(--primary); }

        .loader { display: none; margin: 20px auto; border: 4px solid #f3f3f3; border-top: 4px solid var(--gold); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        @media (max-width: 700px) { .result-card { flex-direction: column; } .visual-side, .technical-side { width: 100%; } }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>S&P Expert Console</h1>
        <div class="subtitle">v20.0 Data Sanitized (Zero Duplication)</div>
    </header>

    <div class="tabs">
        <button class="tab-btn active" onclick="app.switchTab('food')">Live Food Pairing</button>
        <button class="tab-btn" onclick="app.switchTab('wine')">Wine Bridging</button>
        <button class="tab-btn" onclick="app.switchTab('budget')">Smart Cellar</button>
    </div>

    <div id="panel-food" class="control-panel active">
        <h2 style="margin-top:0; color:#555; font-size:1.2rem;">Live Food Engine</h2>
        <p>Harmoniza√ß√£o em tempo real com pratos da internet.</p>
        <button class="action-btn" onclick="expert.runFoodAnalysis()">Buscar Prato & Harmonizar</button>
        <div id="loader-food" class="loader"></div>
        <div id="result-food"></div>
    </div>

    <div id="panel-wine" class="control-panel">
        <h2 style="margin-top:0; color:#555; font-size:1.2rem;">Wine Bridging Protocol</h2>
        <p>Selecione um vinho para calcular a sequ√™ncia.</p>
        <select id="wineSelector"><option value="">Carregando estoque completo...</option></select>
        <button class="action-btn" onclick="expert.runBridgingAnalysis()">Calcular Sequ√™ncia</button>
        <div id="result-wine"></div>
    </div>

    <div id="panel-budget" class="control-panel">
        <h2 style="margin-top:0; color:#555; font-size:1.2rem;">Adega Inteligente</h2>
        <div class="budget-group">
            <button class="budget-btn" onclick="expert.runBudgetAnalysis(200)">Kit R$ 200</button>
            <button class="budget-btn" onclick="expert.runBudgetAnalysis(400)">Kit R$ 400</button>
            <button class="budget-btn" onclick="expert.runBudgetAnalysis(600)">Kit R$ 600</button>
        </div>
        <div id="result-budget"></div>
    </div>
</div>

<script>
/**
 * --- INVENT√ÅRIO COMPLETO (S&P IMPORTADORA) v20.0 ---
 * LISTA LIMPA: Duplicatas removidas. Tags padronizadas.
 */
const INVENTORY = [
    // --- ESPUMANTES (N√≠vel 1) ---
    { id: '130', name: "Espumante Porta 6 Brut", level: 1, type: 'Espumante', price: 55.12, chem: {acid:'Alta', body:'Leve', sugar:'Seco'}, tags: ['fried', 'starter', 'sushi'] },
    { id: '191', name: "Cava Bonaval Ros√©", level: 1, type: 'Espumante', price: 46.78, chem: {acid:'Vibrante', body:'M√©dio', sugar:'Brut'}, tags: ['tapas', 'salmon', 'starter'] },
    { id: '192', name: "Cava Bonaval Brut Branco", level: 1, type: 'Espumante', price: 46.78, chem: {acid:'Alta', body:'Leve', sugar:'Brut'}, tags: ['fried', 'oyster'] },
    { id: '356', name: "Da Pipa Espumante Bairrada", level: 1, type: 'Espumante', price: 49.64, chem: {acid:'Cremosa', body:'M√©dio', sugar:'Seco'}, tags: ['pork_light', 'seafood'] },
    { id: '1000364', name: "Espumante La Baronne", level: 1, type: 'Espumante', price: 45.28, chem: {acid:'M√©dia', body:'Leve', sugar:'Demi'}, tags: ['dessert_light', 'fruit'] },

    // --- BRANCOS LEVES / VERDES (N√≠vel 1) ---
    { id: '446', name: "Pescada Alvarinho", level: 1, type: 'Branco', price: 127.55, chem: {acid:'Muito Alta', body:'M√©dio', sugar:'Seco'}, tags: ['ceviche', 'seafood', 'fish'] },
    { id: '160', name: "Porta 6 Vinho Verde", level: 1, type: 'Branco', price: 55.12, chem: {acid:'Alta', body:'Leve', sugar:'Seco'}, tags: ['salad', 'sushi'] },
    { id: '444', name: "Pescada Verde Branco", level: 1, type: 'Branco', price: 35.51, chem: {acid:'Vibrante', body:'Leve', sugar:'Seco'}, tags: ['snack', 'fish_fry'] },
    { id: '3000386', name: "Gigantones Verde", level: 1, type: 'Branco', price: 35.51, chem: {acid:'Alta', body:'Leve', sugar:'Seco'}, tags: ['shellfish', 'starter'] },
    { id: '120', name: "3 Autores Verde DOC", level: 1, type: 'Branco', price: 53.00, chem: {acid:'Alta', body:'Leve', sugar:'Seco'}, tags: ['salad', 'shellfish'] },
    { id: '3000363', name: "Isla Negra Sauvignon Blanc", level: 1, type: 'Branco', price: 28.30, chem: {acid:'Alta', body:'Leve', sugar:'Seco'}, tags: ['salad', 'fish'] },
    { id: '3000473', name: "Stormhoek Sauv. Blanc", level: 1, type: 'Branco', price: 31.82, chem: {acid:'Alta', body:'Leve', sugar:'Seco'}, tags: ['salad', 'fish'] },
    { id: '3000484', name: "Bar√£o do Hospital Verde", level: 1, type: 'Branco', price: 105.00, chem: {acid:'Alta', body:'Estruturado', sugar:'Seco'}, tags: ['seafood_premium', 'fish'] },
    { id: '3000299', name: "Eruptio (A√ßores)", level: 1, type: 'Branco', price: 226.84, chem: {acid:'Extrema', body:'Mineral', sugar:'Seco'}, tags: ['oyster', 'seafood_premium'] },

    // --- BRANCOS AROM√ÅTICOS & ROS√âS (N√≠vel 2) ---
    { id: '209', name: "Ca Montebello Pinot Grigio", level: 2, type: 'Branco', price: 80.00, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['chicken', 'pasta_white'] },
    { id: '245', name: "Pink Rabbit Ros√©", level: 2, type: 'Ros√©', price: 51.66, chem: {acid:'M√©dia', body:'Leve', sugar:'Seco'}, tags: ['chicken', 'salad'] },
    { id: '159', name: "Vidigal Chap√©u de Praia", level: 2, type: 'Ros√©', price: 42.40, chem: {acid:'Alta', body:'Leve', sugar:'Seco'}, tags: ['beach', 'snack'] },
    { id: '3000269', name: "La Vache Espagnole Branco", level: 2, type: 'Branco', price: 33.92, chem: {acid:'M√©dia', body:'Leve', sugar:'Seco'}, tags: ['tapas', 'fish'] },
    { id: '3000271', name: "New Roads Branco", level: 2, type: 'Branco', price: 25.44, chem: {acid:'M√©dia', body:'Leve', sugar:'Seco'}, tags: ['daily', 'chicken'] },
    { id: '931', name: "Porta 6 Branco Lisboa", level: 2, type: 'Branco', price: 55.12, chem: {acid:'Equilibrada', body:'M√©dio', sugar:'Seco'}, tags: ['pasta', 'fish_grilled'] },
    { id: '272', name: "Spring Rabbit Sauv. Blanc", level: 2, type: 'Branco', price: 53.25, chem: {acid:'Alta', body:'Leve', sugar:'Seco'}, tags: ['salad', 'goat_cheese'] },
    { id: '185', name: "Porta 6 Ros√©", level: 2, type: 'Ros√©', price: 55.12, chem: {acid:'M√©dia', body:'Leve', sugar:'Seco'}, tags: ['shrimp', 'snack'] },
    { id: '374', name: "Paso de Los Andes Branco", level: 2, type: 'Branco', price: 33.50, chem: {acid:'M√©dia', body:'Leve', sugar:'Suave'}, tags: ['asian', 'fruit'] },
    { id: '382', name: "Vi√±as del Tango Ros√©", level: 2, type: 'Ros√©', price: 34.98, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['snack', 'chicken'] },
    { id: '3000332', name: "Flor de Lisboa Branco", level: 2, type: 'Branco', price: 34.62, chem: {acid:'M√©dia', body:'Leve', sugar:'Seco'}, tags: ['fish', 'salad'] },
    { id: '241', name: "Da Pipa Branco", level: 2, type: 'Branco', price: 36.04, chem: {acid:'M√©dia', body:'Fresco', sugar:'Seco'}, tags: ['fish', 'rice'] },
    { id: '405', name: "Torre Romanica Bianco", level: 2, type: 'Branco', price: 35.51, chem: {acid:'M√©dia', body:'Leve', sugar:'Seco'}, tags: ['fish', 'salad'] },
    { id: '422', name: "Torre Romanica Rosato", level: 2, type: 'Ros√©', price: 35.51, chem: {acid:'Vibrante', body:'Leve', sugar:'Seco'}, tags: ['starter', 'snack'] },
    { id: '215', name: "Mandorlo Bianco", level: 2, type: 'Branco', price: 84.62, chem: {acid:'Alta', body:'Arom√°tico', sugar:'Seco'}, tags: ['asian', 'fish'] },
    { id: '449', name: "Cabriz Branco", level: 2, type: 'Branco', price: 78.08, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['fish', 'pasta'] },

    // --- N√çVEL 3: PONTE (Corpo M√©dio/Untuoso) ---
    { id: '220', name: "Charming Rabbit Chardonnay", level: 3, type: 'Branco', price: 60.00, chem: {acid:'Baixa', body:'Untuoso', sugar:'Seco'}, tags: ['cream', 'pork'] },
    { id: '414', name: "Lugana DOC Turbiana", level: 3, type: 'Branco', price: 134.62, chem: {acid:'M√©dia', body:'Estruturado', sugar:'Seco'}, tags: ['risotto', 'fish_fat'] },
    { id: '411', name: "Le Mure Garda Chardonnay", level: 3, type: 'Branco', price: 84.62, chem: {acid:'Baixa', body:'Gordo', sugar:'Seco'}, tags: ['cheese_soft', 'pasta_cream'] },
    { id: '208', name: "Ca Montebello Pinot Nero", level: 3, type: 'Tinto', price: 80.00, chem: {acid:'Alta', body:'Leve', sugar:'Seco', tanin:'Baixo'}, tags: ['mushroom', 'tuna'] },
    { id: '378', name: "Paso de Los Andes Pinot Noir", level: 3, type: 'Tinto', price: 47.70, chem: {acid:'M√©dia-Alta', body:'Leve', sugar:'Seco', tanin:'Baixo'}, tags: ['pizza', 'salmon'] },
    { id: '3000222', name: "Mrs. Rabbit Pinot Noir", level: 3, type: 'Tinto', price: 60.00, chem: {acid:'Elegante', body:'Leve', sugar:'Seco', tanin:'Sedoso'}, tags: ['duck', 'cheese_soft'] },
    { id: '415', name: "Meridiano Garda Chardonnay", level: 3, type: 'Branco', price: 134.62, chem: {acid:'M√©dia', body:'Madeira', sugar:'Seco'}, tags: ['codfish', 'veal'] },
    { id: '115', name: "Coragem Superior Branco", level: 3, type: 'Branco', price: 90.10, chem: {acid:'M√©dia', body:'Gordo', sugar:'Seco'}, tags: ['fish_fat', 'pork'] },

    // --- N√çVEL 4: TINTOS M√âDIOS ---
    { id: '412', name: "Carpino Garda Merlot", level: 4, type: 'Tinto', price: 235.32, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco', tanin:'M√©dio'}, tags: ['pasta_red', 'beef_light'] },
    { id: '170', name: "Porta 6 Reserva", level: 4, type: 'Tinto', price: 80.91, chem: {acid:'M√©dia', body:'M√©dio+', sugar:'Seco', tanin:'Macio'}, tags: ['meat', 'stew'] },
    { id: '360', name: "Isla Negra Cabernet", level: 4, type: 'Tinto', price: 28.30, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco', tanin:'M√©dio'}, tags: ['daily', 'burger'] },
    { id: '3000251', name: "La Vache Espagnole Tinto", level: 4, type: 'Tinto', price: 33.92, chem: {acid:'Baixa', body:'M√©dio', sugar:'Seco', tanin:'R√∫stico'}, tags: ['tapas', 'chorizo'] },
    { id: '436', name: "Cabriz Colheita Selecionada", level: 4, type: 'Tinto', price: 59.71, chem: {acid:'Gastron√¥mica', body:'M√©dio', sugar:'Seco', tanin:'Polido'}, tags: ['codfish', 'roast'] },
    { id: '225', name: "Chatelain Valmont Rhone", level: 4, type: 'Tinto', price: 60.35, chem: {acid:'M√©dia', body:'Especiado', sugar:'Seco', tanin:'M√©dio'}, tags: ['lamb_light', 'sausage'] },
    { id: '3000336', name: "Flor d'Penalva D√£o", level: 4, type: 'Tinto', price: 44.59, chem: {acid:'Alta', body:'M√©dio', sugar:'Seco', tanin:'Fino'}, tags: ['roast_chicken', 'rice'] },
    { id: '290', name: "Neroperso Rosso Veneto", level: 4, type: 'Tinto', price: 131.44, chem: {acid:'M√©dia', body:'Encorpado', sugar:'Seco'}, tags: ['pasta', 'beef'] },
    { id: '3000291', name: "Liburna Nero D'Avola", level: 4, type: 'Tinto', price: 42.42, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['pasta', 'pizza'] },
    { id: '3000288', name: "Borgo del Filari Montepulciano", level: 4, type: 'Tinto', price: 53.05, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['meat', 'cheese'] },
    { id: '3000388', name: "Torre Romanica Rosso", level: 4, type: 'Tinto', price: 35.51, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['daily', 'pasta'] },
    { id: '3000406', name: "Torre Romanica Sangiovese", level: 4, type: 'Tinto', price: 48.76, chem: {acid:'Alta', body:'M√©dio', sugar:'Seco'}, tags: ['pasta_red', 'meat'] },
    { id: '408', name: "Cornalino Rosso", level: 4, type: 'Tinto', price: 98.93, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['meat', 'cheese'] },
    { id: '300078', name: "Porta 6 Tinto", level: 4, type: 'Tinto', price: 55.12, chem: {acid:'M√©dia', body:'Macio', sugar:'Seco'}, tags: ['burger', 'pizza'] },
    { id: '3000173', name: "Bag in Box Porta 6 Tinto (3L)", level: 4, type: 'Tinto', price: 104.14, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['party', 'daily'] },
    { id: '94', name: "Dom Dinis Tinto", level: 4, type: 'Tinto', price: 38.16, chem: {acid:'M√©dia', body:'Simples', sugar:'Seco'}, tags: ['daily', 'meal'] },
    { id: '39', name: "Reserva dos Amigos Tinto", level: 4, type: 'Tinto', price: 49.46, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['meat', 'rice'] },
    { id: '111', name: "NBNC (No Branding)", level: 4, type: 'Tinto', price: 49.82, chem: {acid:'M√©dia', body:'Jovem', sugar:'Seco'}, tags: ['pizza', 'pasta'] },
    { id: '41', name: "Vidigal Reserva", level: 4, type: 'Tinto', price: 45.58, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['meat', 'daily'] },
    { id: '333', name: "Boa Noite Lisboa Tinto", level: 4, type: 'Tinto', price: 56.18, chem: {acid:'M√©dia', body:'Redondo', sugar:'Seco'}, tags: ['burger', 'tapas'] },
    { id: '3000154', name: "J√∫lia Florista Tinto", level: 4, type: 'Tinto', price: 41.34, chem: {acid:'Baixa', body:'Leve', sugar:'Seco'}, tags: ['daily', 'snack'] },
    { id: '153', name: "Artolas Tinto", level: 4, type: 'Tinto', price: 38.16, chem: {acid:'M√©dia', body:'Simples', sugar:'Seco'}, tags: ['meal', 'daily'] },
    { id: '1000432', name: "C de Cabriz", level: 4, type: 'Tinto', price: 42.59, chem: {acid:'Alta', body:'Jovem', sugar:'Seco'}, tags: ['daily', 'pizza'] },
    { id: '369', name: "Paso de Los Andes Cabernet", level: 4, type: 'Tinto', price: 31.14, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['meat', 'pasta'] },
    { id: '3000263', name: "New Roads Tinto", level: 4, type: 'Tinto', price: 25.44, chem: {acid:'M√©dia', body:'Jovem', sugar:'Seco'}, tags: ['daily', 'pizza'] },
    { id: '3000475', name: "Stormhoek Cab/Merlot", level: 4, type: 'Tinto', price: 31.82, chem: {acid:'M√©dia', body:'M√©dio', sugar:'Seco'}, tags: ['burger', 'daily'] },

    // N√çVEL 5: TINTOS ESTRUTURADOS
    { id: '355', name: "La Fogliata Primitivo", level: 5, type: 'Tinto', price: 59.18, chem: {acid:'Baixa', body:'M√©dio', sugar:'Residual', tanin:'Doce'}, tags: ['pizza', 'cheese_hard'] },
    { id: '3000211', name: "Gaggiarone Croatina", level: 5, type: 'Tinto', price: 136.74, chem: {acid:'M√©dia', body:'Encorpado', sugar:'Seco', tanin:'Alto'}, tags: ['beef', 'game'] },
    { id: '448', name: "Cabriz Touriga Nacional", level: 5, type: 'Tinto', price: 110.94, chem: {acid:'Alta', body:'Estruturado', sugar:'Seco', tanin:'Firme'}, tags: ['beef', 'steak'] },
    { id: '456', name: "New Roads Malbec", level: 5, type: 'Tinto', price: 30.56, chem: {acid:'M√©dia', body:'Encorpado', sugar:'Seco', tanin:'Redondo'}, tags: ['bbq', 'beef'] },
    { id: '223', name: "Mr. Rabbit Cabernet", level: 5, type: 'Tinto', price: 50.00, chem: {acid:'M√©dia', body:'M√©dio-Alto', sugar:'Seco', tanin:'Firme'}, tags: ['steak', 'lamb'] },
    { id: '300046', name: "Brutalis by Vidigal", level: 5, type: 'Tinto', price: 325.95, chem: {acid:'Equilibrada', body:'Muito Encorpado', sugar:'Seco', tanin:'Potente'}, tags: ['premium_beef', 'game'] },
    { id: '114', name: "3 Autores Grande Reserva", level: 5, type: 'Tinto', price: 320.12, chem: {acid:'Alta', body:'Complexo', sugar:'Seco', tanin:'Elegante'}, tags: ['special_dinner', 'lamb'] },
    { id: '452', name: "Vi√±as del Tango Premium", level: 5, type: 'Tinto', price: 48.23, chem: {acid:'M√©dia', body:'Encorpado', sugar:'Seco', tanin:'Aveludado'}, tags: ['bbq', 'pork_ribs'] },
    { id: '3000389', name: "Torre Romanica Primitivo", level: 5, type: 'Tinto', price: 68.01, chem: {acid:'Baixa', body:'Encorpado', sugar:'Residual'}, tags: ['bbq', 'cheese'] },
    { id: '397', name: "Torre Romanica Premium", level: 5, type: 'Tinto', price: 79.50, chem: {acid:'M√©dia', body:'Estruturado', sugar:'Seco'}, tags: ['steak', 'game'] },
    { id: '216', name: "Rib√≥ Garda Cabernet", level: 5, type: 'Tinto', price: 144.16, chem: {acid:'M√©dia', body:'Estruturado', sugar:'Seco'}, tags: ['steak', 'roast'] },
    { id: '407', name: "I Ciottoli Garda", level: 5, type: 'Tinto', price: 90.98, chem: {acid:'M√©dia', body:'Encorpado', sugar:'Seco'}, tags: ['bbq', 'stew'] },
    { id: '3000221', name: "Dirty Rabbit Petit Verdot", level: 5, type: 'Tinto', price: 60.00, chem: {acid:'Alta', body:'Denso', sugar:'Seco'}, tags: ['game', 'stew'] },
    { id: '224', name: "Master Rabbit Syrah", level: 5, type: 'Tinto', price: 50.00, chem: {acid:'Baixa', body:'Especiado', sugar:'Seco'}, tags: ['bbq', 'pork'] },
    { id: '162', name: "Reserva dos Amigos Especial", level: 5, type: 'Tinto', price: 107.06, chem: {acid:'M√©dia', body:'Encorpado', sugar:'Seco'}, tags: ['roast', 'game'] },
    { id: '3000116', name: "Coragem Superior Tinto", level: 5, type: 'Tinto', price: 90.10, chem: {acid:'Alta', body:'Estruturado', sugar:'Seco'}, tags: ['steak', 'cheese_hard'] },
    { id: '3000268', name: "Da Pipa Signature Baga", level: 5, type: 'Tinto', price: 85.15, chem: {acid:'Alta', body:'T√¢nico', sugar:'Seco'}, tags: ['pork', 'fatty_meat'] },
    { id: '3000314', name: "Fonte da Perdiz Reserva", level: 5, type: 'Tinto', price: 63.97, chem: {acid:'M√©dia', body:'Encorpado', sugar:'Seco'}, tags: ['roast', 'cheese'] },
    { id: '330', name: "Herdade do Gamito Especial", level: 5, type: 'Tinto', price: 92.29, chem: {acid:'M√©dia', body:'Potente', sugar:'Seco'}, tags: ['game', 'lamb'] },
    { id: '1000399', name: "Gai√£o Reserva", level: 5, type: 'Tinto', price: 112.81, chem: {acid:'M√©dia', body:'Estruturado', sugar:'Seco'}, tags: ['steak', 'stew'] },
    { id: '3000440', name: "Cabriz Reserva", level: 5, type: 'Tinto', price: 106.63, chem: {acid:'Alta', body:'Encorpado', sugar:'Seco'}, tags: ['roast', 'cheese_hard'] },
    { id: '383', name: "Vi√±as del Tango Malbec", level: 5, type: 'Tinto', price: 33.33, chem: {acid:'M√©dia', body:'Encorpado', sugar:'Seco'}, tags: ['bbq', 'steak'] },
    { id: '3000472', name: "Stormhoek Pinotage", level: 5, type: 'Tinto', price: 31.82, chem: {acid:'M√©dia', body:'Defumado', sugar:'Seco'}, tags: ['bbq', 'ribs'] },

    // N√çVEL 6: FORTIFICADOS (ID 350 Duplicado foi removido)
    { id: '350', name: "Porto Ruby Martha's", level: 6, type: 'Porto', price: 63.60, chem: {acid:'Baixa', body:'Licoroso', sugar:'Doce', tanin:'Baixo'}, tags: ['dessert', 'chocolate', 'cheese_blue'] }, // Tags consolidadas
    { id: '353', name: "Porto 10 Anos Martha's", level: 6, type: 'Porto', price: 194.33, chem: {acid:'M√©dia', body:'Licoroso', sugar:'Doce', tanin:'Evolu√≠do'}, tags: ['dessert', 'nuts'] },
    { id: '413', name: "Le Cime Passito", level: 6, type: 'Sobremesa', price: 212.00, chem: {acid:'Alta', body:'Denso', sugar:'Muito Doce', tanin:'Zero'}, tags: ['dessert_fruit', 'foie_gras'] },
    { id: '3000354', name: "Moscatel do Douro", level: 6, type: 'Porto', price: 56.00, chem: {acid:'M√©dia', body:'Licoroso', sugar:'Doce', tanin:'Zero'}, tags: ['dessert_citrus', 'cake'] },
    { id: '352', name: "Porto White Martha's", level: 6, type: 'Porto', price: 63.60, chem: {acid:'Baixa', body:'Doce', sugar:'Doce'}, tags: ['aperitif', 'nuts'] },
    { id: '3000351', name: "Porto Tawny Martha's", level: 6, type: 'Porto', price: 63.60, chem: {acid:'Baixa', body:'Evolu√≠do', sugar:'Doce'}, tags: ['nuts', 'creme_brulee'] },
    { id: '423', name: "Porto 20 Anos Martha's", level: 6, type: 'Porto', price: 374.31, chem: {acid:'Alta', body:'Complexo', sugar:'Doce', tanin:'Aveludado'}, tags: ['cigar', 'meditation'] }
];

const app = {
    init: function() {
        // Valida√ß√£o de integridade no boot
        const ids = new Set();
        const names = new Set();
        
        INVENTORY.forEach(w => {
            if(ids.has(w.id)) console.error(`ID Duplicado: ${w.id}`);
            ids.add(w.id);
            if(names.has(w.name)) console.warn(`Nome Duplicado: ${w.name}`);
            names.add(w.name);
        });

        const sel = document.getElementById('wineSelector');
        // Ordena por N√≠vel -> Nome
        INVENTORY.sort((a,b) => a.level - b.level || a.name.localeCompare(b.name));
        
        // Selector com OptGroups (UX Improvement)
        for(let i=1; i<=6; i++) {
            const group = document.createElement('optgroup');
            group.label = `N√≠vel ${i}`;
            const winesInLevel = INVENTORY.filter(w => w.level === i);
            winesInLevel.forEach(w => {
                if (w.price >= 20) { 
                    let opt = document.createElement('option');
                    opt.value = w.id;
                    opt.text = w.name;
                    group.appendChild(opt);
                }
            });
            if(winesInLevel.length > 0) sel.appendChild(group);
        }
    },

    fmt: (v) => v.toLocaleString('pt-BR', {style:'currency', currency:'BRL'}),

    shuffle: function(array) {
        let currentIndex = array.length, randomIndex;
        while (currentIndex != 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [array[currentIndex], array[randomIndex]] = [array[randomIndex], array[currentIndex]];
        }
        return array;
    },

    switchTab: function(tabName) {
        document.querySelectorAll('.control-panel').forEach(p => p.classList.remove('active'));
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        document.getElementById('panel-' + tabName).classList.add('active');
        event.target.classList.add('active');
    }
};

const expert = {
    // --- 1. LIVE FOOD PAIRING ---
    runFoodAnalysis: async function() {
        const loader = document.getElementById('loader-food');
        const area = document.getElementById('result-food');
        area.innerHTML = '';
        loader.style.display = 'block';

        try {
            const cats = ['Beef', 'Seafood', 'Dessert', 'Lamb', 'Pasta', 'Pork'];
            const cat = cats[Math.floor(Math.random() * cats.length)];
            const res = await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${cat}`);
            const data = await res.json();
            
            if (!data.meals || data.meals.length === 0) throw new Error("Sem pratos.");
            const dish = data.meals[Math.floor(Math.random() * data.meals.length)];

            // Logic
            let targetTags = [];
            let fallbackLevel = 4;
            
            if(cat === 'Beef' || cat === 'Lamb') { targetTags = ['beef', 'steak', 'bbq']; fallbackLevel = 5; }
            else if(cat === 'Seafood') { targetTags = ['seafood', 'fish', 'ceviche']; fallbackLevel = 1; }
            else if(cat === 'Dessert') { targetTags = ['dessert', 'chocolate', 'cake']; fallbackLevel = 6; }
            else if(cat === 'Pasta') { targetTags = ['pasta', 'pasta_red']; fallbackLevel = 4; }
            else if(cat === 'Pork') { targetTags = ['pork', 'ribs', 'roast']; fallbackLevel = 4; } 

            const dishName = dish.strMeal.toLowerCase();
            if(dishName.includes('chocolate')) { 
                targetTags = ['chocolate', 'dessert']; 
                fallbackLevel = 6; 
            } else if(dishName.includes('cream')) { 
                targetTags.push('cream'); 
                fallbackLevel = 3; 
            }
            
            let candidates = INVENTORY.filter(w => w.tags.some(t => targetTags.includes(t)));
            if(candidates.length === 0) candidates = INVENTORY.filter(w => w.level === fallbackLevel);
            
            // Fallback Blindado
            if(candidates.length === 0) candidates = INVENTORY.filter(w => w.price >= 20 && w.price < 200);
            
            const wine = app.shuffle(candidates)[0];
            if(!wine) throw new Error("Invent√°rio indispon√≠vel.");

            let valid = `Harmoniza√ß√£o por estrutura. O corpo ${wine.chem.body} suporta a densidade do prato.`;
            if(wine.level === 1) valid = `Acidez ${wine.chem.acid} corta gordura e limpa o palato.`;
            if(wine.level === 5) valid = `Taninos presentes ajudam a amaciar a prote√≠na da carne.`;

            area.innerHTML = `
                <div class="result-card">
                    <div class="visual-side">
                        <img src="${dish.strMealThumb}" class="visual-img">
                        <span style="font-size:0.8rem; letter-spacing:2px;">PRATO: ${cat.toUpperCase()}</span>
                        <strong style="font-size:1.4rem;">${dish.strMeal}</strong>
                    </div>
                    <div class="technical-side">
                        <span class="role-badge">SUGEST√ÉO DO SOMMELIER</span>
                        <h3 class="wine-title">${wine.name}</h3>
                        <div class="wine-meta">${wine.type.toUpperCase()} ‚Ä¢ ${app.fmt(wine.price)}</div>
                        <div class="enologist-box">
                            <span class="role-badge" style="color:var(--primary); background:none; padding:0;">PARECER DO EN√ìLOGO</span>
                            <p class="quote">"${valid}"</p>
                            <div class="chem-grid">
                                <div class="chem-item">ACIDEZ<span>${wine.chem.acid}</span></div>
                                <div class="chem-item">CORPO<span>${wine.chem.body}</span></div>
                                <div class="chem-item">A√á√öCAR<span>${wine.chem.sugar}</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        } catch(e) { console.error(e); area.innerHTML = "<p style='text-align:center; color:red'>Erro de conex√£o com API.</p>"; } 
        finally { loader.style.display = 'none'; }
    },

    // --- 2. BRIDGING ---
    runBridgingAnalysis: function() {
        try {
            const id = document.getElementById('wineSelector').value;
            const area = document.getElementById('result-wine');
            
            if(!id) return alert("Selecione um vinho.");
            const current = INVENTORY.find(w => w.id === id);
            if(!current) return alert("Vinho n√£o encontrado no estoque.");

            let targetLevel = current.level + 1;
            let explanation = "Evolu√ß√£o de corpo.";

            if(current.level === 6) { targetLevel = 1; explanation = "Reset Palatino: Necess√°rio acidez para limpar o a√ß√∫car."; }
            else if(current.level === 5) { targetLevel = 6; explanation = "Finaliza√ß√£o: Do√ßura ap√≥s taninos potentes."; }

            let candidates = INVENTORY.filter(w => w.level === targetLevel);
            while(candidates.length === 0 && targetLevel <= 6) { targetLevel++; candidates = INVENTORY.filter(w => w.level === targetLevel); }
            if(candidates.length === 0) { targetLevel = 1; candidates = INVENTORY.filter(w => w.level === 1); }

            candidates.sort((a,b) => b.price - a.price);
            const next = candidates[0];

            area.innerHTML = `
                <div class="result-card">
                    <div class="visual-side" style="background:var(--primary)">
                        <span style="font-size:3rem;">&rarr;</span>
                        <span style="font-size:0.8rem; letter-spacing:2px; margin-top:10px;">SEQU√äNCIA L√ìGICA</span>
                    </div>
                    <div class="technical-side">
                        <div style="display:flex; justify-content:space-between; border-bottom:1px solid #eee; padding-bottom:10px;">
                            <div><span class="role-badge">ATUAL (Lv ${current.level})</span><strong>${current.name}</strong></div>
                            <div style="text-align:right;"><span class="role-badge">PR√ìXIMO (Lv ${next.level})</span><strong style="color:var(--primary)">${next.name}</strong></div>
                        </div>
                        <div class="enologist-box">
                            <p class="quote">"${explanation}"</p>
                            <div class="chem-grid">
                                <div class="chem-item">DE<span>${current.chem.body}</span></div>
                                <div class="chem-item">PARA<span>${next.chem.body}</span></div>
                                <div class="chem-item">INVESTIMENTO<span>${app.fmt(next.price)}</span></div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            area.style.display = 'block';
        } catch (e) {
            console.error(e);
            alert("Erro inesperado. Recarregue a p√°gina.");
        }
    },

    // --- 3. BUDGET ---
    runBudgetAnalysis: function(limit) {
        try {
            let cart = [];
            let currentTotal = 0;
            
            // CORRE√á√ÉO UX: Verifica nome tamb√©m para evitar duplicatas visuais
            const addUnique = (wine) => {
                if (wine && 
                    !cart.some(w => w.id === wine.id || w.name === wine.name) && 
                    (currentTotal + wine.price <= limit)) {
                    cart.push(wine);
                    currentTotal += wine.price;
                    return true;
                }
                return false;
            };

            let starters = INVENTORY.filter(w => w.level <= 2 && w.price < limit * 0.4);
            if(starters.length === 0) starters = INVENTORY.filter(w => w.level <= 2);
            if(starters.length === 0) starters = INVENTORY.filter(w => w.price < limit * 0.5);
            
            const starter = app.shuffle(starters)[0];
            if(starter) addUnique(starter);

            const mains = app.shuffle(INVENTORY.filter(w => w.level >= 4 && w.level <= 5 && (currentTotal + w.price) < limit));
            if(mains.length > 0) addUnique(mains[0]);

            const remaining = limit - currentTotal;
            const fillers = INVENTORY.filter(w => w.price <= remaining).sort((a,b) => b.price - a.price);
            
            for(let w of fillers) { 
                if (cart.length >= 5) break; 
                addUnique(w); 
            }

            const area = document.getElementById('result-budget');
            if(cart.length === 0) { area.innerHTML = "<p>Or√ßamento insuficiente.</p>"; return; }

            let listHtml = cart.map(w => `<li class="kit-item"><strong>${w.name}</strong> <span>${app.fmt(w.price)}</span></li>`).join('');
            
            area.innerHTML = `
                <div class="result-card">
                    <div class="visual-side" style="background:var(--gold);">
                        <span style="font-size:2.5rem;">${cart.length}</span>
                        <span style="font-size:0.8rem; letter-spacing:2px;">GARRAFAS</span>
                        <strong style="font-size:1.5rem; margin-top:10px;">${app.fmt(currentTotal)}</strong>
                    </div>
                    <div class="technical-side">
                        <span class="role-badge">KIT SELECIONADO</span>
                        <ul class="kit-list">${listHtml}</ul>
                        <div class="enologist-box">
                            <span class="role-badge" style="color:var(--primary); background:none; padding:0;">VALIDA√á√ÉO</span>
                            <p class="quote">"Sele√ß√£o equilibrada cobrindo desde entradas at√© pratos principais."</p>
                        </div>
                    </div>
                </div>
            `;
            area.style.display = 'block';
            area.scrollIntoView({behavior: "smooth"});
        } catch (e) {
            console.error(e);
            alert("Erro no c√°lculo do or√ßamento.");
        }
    }
};

app.init();
</script>

</body>
</html><!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>S&P - Intelig√™ncia de Mercado</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Estilos base */
        .family-header { background: #f8fafc; border-bottom: 2px solid #722f37; position: sticky; top: 0; z-index: 10; }
        .row-hidden { display: none !important; }
        .selected-row { background-color: #fef9c3 !important; border-left: 6px solid #ca8a04 !important; }
        
        /* Barra de rolagem personalizada */
        .custom-scroll::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #722f37; border-radius: 10px; }
        .custom-scroll::-webkit-scrollbar-track { background: #f1f1f1; }

        /* Anima√ß√µes e Intera√ß√µes */
        .wine-row { transition: background-color 0.2s ease; }
        .market-btn { cursor: pointer; transition: transform 0.2s, background-color 0.2s; }
        .market-btn:hover { transform: scale(1.02); background-color: #047857; }
        .market-btn:active { transform: scale(0.98); }

        /* Ajustes Mobile Espec√≠ficos */
        @media (max-width: 768px) {
            .selected-row { border-left-width: 4px !important; }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900 p-2 lg:p-4 font-sans antialiased">
    <div class="max-w-[1600px] mx-auto">
        <header class="flex flex-col lg:flex-row justify-between items-center mb-4 bg-white p-4 lg:p-6 rounded-3xl shadow-sm border border-gray-100 gap-3 lg:gap-4 sticky top-0 z-30 lg:static">
            <div class="text-center lg:text-left">
                <h1 class="text-xl lg:text-2xl font-black text-[#722f37] uppercase tracking-tighter leading-none">Gestor S&P</h1>
                <p id="counter" class="text-[10px] text-emerald-600 font-bold uppercase mt-1">Carregando...</p>
            </div>
            <input type="text" id="search-bar" onkeyup="filterTable()" placeholder="üîç Buscar vinho, safra ou regi√£o..." 
                   class="w-full max-w-xl px-4 py-3 rounded-2xl border-2 border-slate-200 outline-none focus:border-[#722f37] shadow-sm text-base lg:text-lg transition-all focus:shadow-md appearance-none">
        </header>

        <div class="grid grid-cols-1 lg:grid-cols-5 gap-4 lg:gap-6">
            
            <div class="lg:col-span-1 order-1">
                <div id="detail-panel" class="bg-[#722f37] p-6 lg:p-8 rounded-[2rem] shadow-xl text-white min-h-auto lg:min-h-[580px] flex flex-col justify-between relative lg:sticky lg:top-4 text-center border-4 border-white/10 transition-all">
                    <div id="wine-details">
                        <h2 id="det-name" class="text-lg lg:text-xl font-black border-b border-white/20 pb-4 mb-4 italic text-[#FFE600] uppercase leading-tight">Selecione um item</h2>
                        
                        <div class="mb-4 lg:mb-6">
                            <p class="text-[10px] uppercase opacity-70 font-bold mb-1">Venda Sugerida ML</p>
                            <p id="det-ml" class="text-4xl lg:text-5xl font-black text-[#FFE600] font-mono">R$ 0,00</p>
                            <p class="text-[9px] opacity-40 mt-1 uppercase">(Tabela + 45%)</p>
                        </div>

                        <a id="det-mkt-link" href="#" target="_blank" class="block decoration-none market-btn bg-emerald-600 p-4 lg:p-5 rounded-3xl mb-4 shadow-lg border-4 border-emerald-400 group relative overflow-hidden ring-4 ring-emerald-600/30">
                            <div class="absolute inset-0 bg-white/10 translate-y-full group-hover:translate-y-0 transition-transform duration-300"></div>
                            <p class="text-[9px] lg:text-[10px] uppercase text-emerald-100 font-bold mb-1 italic relative z-10">Menor Pre√ßo Mercado</p>
                            <p id="det-mkt" class="text-3xl lg:text-4xl font-black text-white font-mono relative z-10 drop-shadow-md">R$ 0,00</p>
                            <p class="text-[10px] lg:text-[11px] text-yellow-300 mt-2 font-black relative z-10 uppercase tracking-widest animate-pulse border-t border-white/20 pt-2">
                                üëâ Clique p/ Investigar üëà
                            </p>
                        </a>
                    </div>

                    <div class="space-y-3 lg:space-y-4 text-left text-sm font-bold border-t border-white/10 pt-4 lg:pt-6">
                        <div class="flex justify-between items-center">
                            <span class="text-[10px] opacity-70 uppercase">Pre√ßo Tabela</span>
                            <span id="det-tab" class="font-mono text-lg lg:text-xl text-white">---</span>
                        </div>
                        <div class="bg-black/20 p-3 lg:p-4 rounded-xl min-h-[50px] lg:min-h-[60px] flex items-center justify-center">
                            <p id="det-desc" class="text-[10px] lg:text-[11px] opacity-90 font-medium italic leading-snug text-center">Detalhes t√©cnicos aparecer√£o aqui.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="lg:col-span-4 order-2 bg-white rounded-[2rem] shadow-sm border border-gray-100 overflow-hidden flex flex-col h-[60vh] lg:h-[85vh]">
                <div class="overflow-auto custom-scroll flex-1">
                    <table id="wine-table" class="w-full text-left border-collapse cursor-pointer">
                        <thead class="bg-gray-50 text-[9px] lg:text-[11px] uppercase text-gray-400 font-black border-b sticky top-0 z-20">
                            <tr>
                                <th class="p-4 lg:p-6">Produto</th>
                                <th class="p-4 lg:p-6 text-amber-700 text-right lg:text-left">Venda ML</th>
                                <th class="hidden sm:table-cell p-4 lg:p-6">Tabela</th>
                                <th class="hidden md:table-cell p-4 lg:p-6 text-emerald-600">Mercado</th>
                            </tr>
                        </thead>
                        <tbody id="table-content" class="text-xs lg:text-sm font-medium"></tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script>
        // BASE DE DADOS COMPLETA - 244 ITENS
        const wineData = [
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "GAGGIARONE VITGNI GIOVANI TTO", "s": "2021", "t": 145.63, "m": 123.78, "d": "CROATINA"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "GAGGIARONE VITGNI GIOVANI TTO", "s": "", "t": 260.93, "m": 221.79, "d": "CROATINA"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "CA MONTEBELLO TTO DOC", "s": "2021", "t": 85.2, "m": 72.42, "d": "PINOT NERO"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "CA MONTEBELLO BCO DOC", "s": "2022", "t": 85.2, "m": 72.42, "d": "PINOT NERO BIANCO"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "CA MONTEBELLO BCO IGT", "s": "2021", "t": 85.2, "m": 72.42, "d": "PINOT GRIGIO"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "CA MONTEBELLO TTO DOC", "s": "2021", "t": 85.2, "m": 72.42, "d": "BARBERA, UVA RARA"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "NEROPERSO ROSSO VENETO IGT", "s": "2020", "t": 139.98, "m": 118.99, "d": "APASSIMENTO DE TINTAS VERONESES"},
            {"f": "IT√ÅLIA - SICILIA", "n": "LIBURNA DOC SICILIA TTO", "s": "2020", "t": 42.42, "m": 36.06, "d": "NERO D¬¥AVOLA"},
            {"f": "IT√ÅLIA - ABRUZZO", "n": "BORGO DEL FILARI DOC D'ABRUZZO", "s": "2021", "t": 53.06, "m": 45.1, "d": "MONTEPULCIANO"},
            {"f": "IT√ÅLIA - PUGLIA", "n": "LA FOGLIATA DI PUGLIA", "s": "2022", "t": 63.03, "m": 53.58, "d": "PRIMITIVO"},
            {"f": "IT√ÅLIA - ABRUZZO", "n": "TORRE ROMANICA", "s": "2023", "t": 37.82, "m": 32.15, "d": "ROSSO"},
            {"f": "IT√ÅLIA - ABRUZZO", "n": "TORRE ROMANICA", "s": "2023", "t": 37.82, "m": 32.15, "d": "BIANCO"},
            {"f": "IT√ÅLIA - ABRUZZO", "n": "TORRE ROMANICA", "s": "2023", "t": 37.82, "m": 32.15, "d": "ROSATO"},
            {"f": "IT√ÅLIA - ABRUZZO", "n": "TORRE ROMANICA TTO", "s": "2023", "t": 51.93, "m": 44.14, "d": "SANGIOVESE"},
            {"f": "IT√ÅLIA - ABRUZZO", "n": "TORRE ROMANICA PINOT GRIGIO", "s": "", "t": 51.93, "m": 44.14, "d": ""},
            {"f": "IT√ÅLIA - ABRUZZO", "n": "TORRE ROMANICA PUGLIA", "s": "2023", "t": 72.44, "m": 61.57, "d": "PRIMITIVO"},
            {"f": "IT√ÅLIA - ABRUZZO", "n": "TORRE ROMANICA PREMIUM", "s": "2021", "t": 84.67, "m": 71.97, "d": "MONTEPULCIANO"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "LE CIME PASSITO IGT", "s": "2021", "t": 225.78, "m": 191.91, "d": "GARGANEGA, MOSCATO AMARELO"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "CARPINO GARDA DOC", "s": "2018", "t": 250.62, "m": 213.02, "d": "MERLOT"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "RIB√ì GARDA DOC", "s": "2019", "t": 153.53, "m": 130.5, "d": "CABERNET FRANC, CABERNET SAUVIGNON"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "MERIDIANO GARDA DOC", "s": "2023", "t": 143.37, "m": 121.86, "d": "CHARDONNAY"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "LUGANA DOC", "s": "2023", "t": 143.37, "m": 121.86, "d": "TURBIANA"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "CORNALINO ROSSO IGT ALTO MINCIO", "s": "2021", "t": 105.36, "m": 89.56, "d": "MERLOT, CABERNET"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "I CIOTTOLI GARDA DOC", "s": "2022", "t": 96.9, "m": 82.36, "d": "CABERNET FRANC, CAB. SAUVIGNON"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "LE MURE GARDA DOC", "s": "2023", "t": 90.12, "m": 76.61, "d": "CHARDONNAY"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "MANDORLO BIANCO IGT MANTOVA", "s": "2023", "t": 90.12, "m": 76.61, "d": "TOCAI FRIULANO"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "LA CASINA BIANCO GARDA DOC", "s": "2023", "t": 90.12, "m": 76.61, "d": "GARGANEGA, TREBBIANO, CHARDONNAY"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "LA CASINA CHIARETO GARDA DOC", "s": "2023", "t": 90.12, "m": 76.61, "d": "MERLOT, CABERNET, RONDINELLA"},
            {"f": "IT√ÅLIA - LOMBARDIA", "n": "LA CASINA ROSSO GARDA DOC", "s": "2022", "t": 90.12, "m": 76.61, "d": "MERLOT, RONDINELLA, CAB. SAUVIGNON, SANGIOVESE"},
            {"f": "FRAN√áA - LANGUEDOC", "n": "DIRTY RABBIT TTO", "s": "2023", "t": 63.9, "m": 54.31, "d": "PETIT VERDOT"},
            {"f": "FRAN√áA - LANGUEDOC", "n": "CHARMING RABBIT BCO", "s": "2022", "t": 63.9, "m": 54.31, "d": "CHARDONNAY"},
            {"f": "FRAN√áA - LANGUEDOC", "n": "MRS. RABBIT TTO", "s": "2021", "t": 63.9, "m": 54.31, "d": "PINOT NOIR"},
            {"f": "FRAN√áA - LANGUEDOC", "n": "PINK RABBIT ROS√â", "s": "2022", "t": 55.02, "m": 46.77, "d": "GRENACHE, SYRAH"},
            {"f": "FRAN√áA - LANGUEDOC", "n": "MR. RABBIT TTO", "s": "2021", "t": 53.25, "m": 45.26, "d": "CABERNET SAUVIGNON"},
            {"f": "FRAN√áA - LANGUEDOC", "n": "MASTER RABBIT TTO", "s": "2020", "t": 53.25, "m": 45.26, "d": "SYRAH"},
            {"f": "FRAN√áA - LANGUEDOC", "n": "SPRING RABBIT BCO", "s": "2022", "t": 53.25, "m": 45.26, "d": "SAUVIGNON BLANC"},
            {"f": "FRAN√áA - LANGUEDOC", "n": "CHATELAIN VALMONT COTES DU RHONE TTO", "s": "2021", "t": 60.35, "m": 51.3, "d": "GRENACHE SYRAH"},
            {"f": "PORTUGAL - VERDE", "n": "PESCADA BRANCO, DOC VERDE", "s": "2024", "t": 37.82, "m": 32.15, "d": "AZAL, TRAJADURA, LOUREIRO e ARINTO"},
            {"f": "PORTUGAL - VERDE", "n": "PESCADA ROSE, DOC VERDE", "s": "2024", "t": 37.82, "m": 32.15, "d": "TOURIGA NACIONAL, TINTA RORIZ E RUFETE"},
            {"f": "PORTUGAL - VERDE", "n": "PESCADA", "s": "2023", "t": 75.64, "m": 64.29, "d": "ARINTO E TRAJADURA"},
            {"f": "PORTUGAL - VERDE", "n": "PESCADA", "s": "2023", "t": 135.84, "m": 115.47, "d": "100% ALVARINHO"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 TTO meia garrafa", "s": "2023", "t": 35.0, "m": 29.75, "d": "ARAGONES, CASTEL√ÉO, TOURIGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 BCO meia garrafa", "s": "2023", "t": 35.0, "m": 29.75, "d": "FERN√ÉO PIRES, ARINTO, SAUVIGNON BLANC"},
            {"f": "PORTUGAL - LISBOA", "n": "ESPUMANTE PORTA 6 BCO BRUT", "s": "2023", "t": 58.7, "m": 49.9, "d": "ARINTO, FERN√ÉO PIRES, CHARDONNAY"},
            {"f": "PORTUGAL - LISBOA", "n": "VINHO VERDE PORTA 6 DOC", "s": "2023", "t": 58.7, "m": 49.9, "d": "LOUREIRO, TRAJADURA, ARINTO"},
            {"f": "PORTUGAL - LISBOA", "n": "VINHO VERDE PORTA 6 DOC", "s": "2023", "t": 58.7, "m": 49.9, "d": "LOUREIRO, TRAJADURA, ARINTO"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 BCO", "s": "2023", "t": 58.7, "m": 49.9, "d": "FERN√ÉO PIRES, ARINTO, SAUVIGNON BLANC"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 BCO", "s": "2023", "t": 58.7, "m": 49.9, "d": "FERN√ÉO PIRES, ARINTO, SAUVIGNON BLANC"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 ROSE", "s": "2023", "t": 58.7, "m": 49.9, "d": "CASTEL√ÉO, TINTA RORIZ, SYRAH"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 TTO", "s": "2024", "t": 58.7, "m": 49.9, "d": "ARAGONES, CASTEL√ÉO, TOURIGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 RESERVA TTO", "s": "2023", "t": 86.17, "m": 73.25, "d": "SYRAH, ALICANTE BOUSCHET, CABERNET, TGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 MAGNUN TTO", "s": "2023", "t": 90.69, "m": 77.09, "d": "ARAGONES, CASTEL√ÉO, TOURIGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 DOUBLE MAGNUM TTO", "s": "2023", "t": 279.4, "m": 237.49, "d": "ARAGONES, CASTEL√ÉO, TOURIGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "BAG IN BOX PORTA 6 TTO", "s": "2023", "t": 110.91, "m": 94.28, "d": "ARAGONES, CASTEL√ÉO, TOURIGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "BAG IN BOX PORTA 6 BBC", "s": "2024", "t": 110.91, "m": 94.28, "d": "FERN√ÉO PIRES, ARINTO, SAUVIGNON BLANC"},
            {"f": "PORTUGAL - LISBOA", "n": "PACK 2UN", "s": "2023", "t": 58.7, "m": 49.9, "d": "PORTA 6 TTO"},
            {"f": "PORTUGAL - LISBOA", "n": "PACK 2UN", "s": "2023", "t": 58.7, "m": 49.9, "d": "(1 PORTA 6 TTO 1 PORTA 6 BBCO)"},
            {"f": "PORTUGAL - LISBOA", "n": "PORTA 6 BITUBE TTO 2023", "s": "", "t": 135.47, "m": 115.15, "d": ""},
            {"f": "PORTUGAL - LISBOA", "n": "DOM DINIS MESA TTO", "s": "2022", "t": 40.64, "m": 34.54, "d": "CASTEL√ÉO, ARAGONEZ"},
            {"f": "PORTUGAL - LISBOA", "n": "DOM DINIS MESA BCO", "s": "2021", "t": 40.64, "m": 34.54, "d": "FERN√ÉO PIRES, MOSCATEL"},
            {"f": "PORTUGAL - LISBOA", "n": "RESERVA DOS AMIGOS REGIONAL TTO", "s": "2020", "t": 52.68, "m": 44.78, "d": "ARAGONES, CASTEL√ÉO, TINTA MIUDA"},
            {"f": "PORTUGAL - LISBOA", "n": "RESERVA DOS AMIGOS MAGNUN TTO", "s": "2020", "t": 84.67, "m": 71.97, "d": "ARAGONES, CASTEL√ÉO, TINTA MIUDA"},
            {"f": "PORTUGAL - LISBOA", "n": "RES. DOS AMIGOS SELE√á√ÉO ESPECIAL TTO", "s": "2019", "t": 114.02, "m": 96.92, "d": "TOURIGA NACIONAL, SYRAH, CABERNET"},
            {"f": "PORTUGAL - LISBOA", "n": "BAG IN BOX BRANCO DOS AMIGOS", "s": "2023", "t": 146.76, "m": 124.74, "d": "FERNAO PIRES, MOSCATEL"},
            {"f": "PORTUGAL - LISBOA", "n": "BAG IN BOX TINTO DOS AMIGOS", "s": "2022", "t": 146.76, "m": 124.74, "d": "TINTA RORIZ, CASTELAO. TINTA MUIDA"},
            {"f": "PORTUGAL - LISBOA", "n": "VINHO VERDE 3 AUTORES DOC BCO", "s": "2022", "t": 56.44, "m": 47.98, "d": "LOUREIRO, TRAJADURA, ARINTO"},
            {"f": "PORTUGAL - LISBOA", "n": "3 AUTORES DOURO DOC TTO", "s": "2019", "t": 56.44, "m": 47.98, "d": "TOURIGA FRANCA, TINTA RORIZ, TOURIGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "3 AUTORES DOURO DOC BCO", "s": "2019", "t": 56.44, "m": 47.98, "d": "VIOSINHO, MALVASIA FINA, RABIGATO"},
            {"f": "PORTUGAL - LISBOA", "n": "3 AUTORES GRANDE RESERVA TTO", "s": "2016", "t": 340.93, "m": 289.79, "d": "CAB. SAUVIGNON, SYRAH, TGA NACIONAL, AL. BOUSCHET"},
            {"f": "PORTUGAL - LISBOA", "n": "CORAGEM SUPERIOR TTO", "s": "2020", "t": 95.96, "m": 81.56, "d": "TOURIGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "CORAGEM SUPERIOR BCO", "s": "2021", "t": 95.96, "m": 81.56, "d": "CHARDONNAY"},
            {"f": "PORTUGAL - LISBOA", "n": "CORAGEM RESERVA TTO", "s": "2019", "t": 57.39, "m": 48.78, "d": "SYRAH, CASTEL√ÉO, ARAGONEZ"},
            {"f": "PORTUGAL - LISBOA", "n": "CORAGEM REGIONAL LISBOA TTO", "s": "2019", "t": 45.28, "m": 38.49, "d": "CASTEL√áAO, SYRAH, ARAGONEZ"},
            {"f": "PORTUGAL - LISBOA", "n": "N.B.N.C NO BRANDING, NO CRY TTO", "s": "2020", "t": 53.06, "m": 45.1, "d": "ARAGONEZ, CASTEL√ÉO, TINTA MIUDA"},
            {"f": "PORTUGAL - LISBOA", "n": "BRUTALIS BY VIDIGAL TTO", "s": "2018", "t": 347.14, "m": 295.07, "d": "ALICANTE BOUSCHET, CABERNET SAUVIGNON"},
            {"f": "PORTUGAL - LISBOA", "n": "BRUTALIS BY VIDIGAL TTO", "s": "2018", "t": 378.18, "m": 321.45, "d": "ALICANTE BOUSCHET, CABERNET SAUVIGNON"},
            {"f": "PORTUGAL - LISBOA", "n": "VIDIGAL RESERVA TTO", "s": "2021", "t": 48.54, "m": 41.26, "d": "ARAGONEZ, SYRAH,CABERNET SAUVIGNON"},
            {"f": "PORTUGAL - LISBOA", "n": "VIDIGAL SINGLE GRAPE TTO", "s": "", "t": 67.73, "m": 57.57, "d": "TOURIGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "VIDIGAL CHAPEU DE PRAIA ROS√â", "s": "2021", "t": 45.16, "m": 38.38, "d": "ARAGONEZ, CASTEL√ÉO"},
            {"f": "PORTUGAL - LISBOA", "n": "Z√â DO TELHADO DOC DOURO", "s": "2019", "t": 50.8, "m": 43.18, "d": "TGA FRANCA.TTA RORIZ,TGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "BOA NOITE LISBOAL TINTO REGIONAL LISBOA", "s": "", "t": 59.83, "m": 50.86, "d": "SYRAH,TOURIGA NACIONAL"},
            {"f": "PORTUGAL - LISBOA", "n": "BOA NOITE LISBOA BRANCO", "s": "", "t": 59.83, "m": 50.86, "d": "REGIONAL LISBOA"},
            {"f": "PORTUGAL - LISBOA", "n": "BOA NOITE LISBOA ROSE", "s": "", "t": 59.83, "m": 50.86, "d": "REGIONAL LISBOA"},
            {"f": "PORTUGAL - LISBOA", "n": "JULIA FLORISTA TTO", "s": "2022", "t": 44.03, "m": 37.42, "d": "CASTELAO, ARAGONEZ"},
            {"f": "PORTUGAL - LISBOA", "n": "JULIA FLORISTA BCO", "s": "2022", "t": 44.03, "m": 37.42, "d": "FERNAO PIRES, MOSCATEL"},
            {"f": "PORTUGAL - LISBOA", "n": "JULIA FLORISTA ROSE", "s": "2022", "t": 44.03, "m": 37.42, "d": "CASTEL√ÉO, TINTA RORIZ, SYRAH"},
            {"f": "PORTUGAL - LISBOA", "n": "JULIA FLORISTA ROSE", "s": "2022", "t": 44.03, "m": 37.42, "d": "CASTEL√ÉO, TINTA RORIZ, SYRAH"},
            {"f": "PORTUGAL - LISBOA", "n": "JULIA FLORISTA TTO", "s": "2021", "t": 54.19, "m": 46.06, "d": "RESERVA"},
            {"f": "PORTUGAL - LISBOA", "n": "BAG IN BOX JULIA FLORISTA BCO", "s": "2023", "t": 151.27, "m": 128.58, "d": "FERNAO PIRES, MOSCATEL"},
            {"f": "PORTUGAL - LISBOA", "n": "BAG IN BOX JULIA FLORISTA TTO", "s": "2023", "t": 151.27, "m": 128.58, "d": "CASTAELAO, ARAGONEZ"},
            {"f": "PORTUGAL - LISBOA", "n": "JULIA FLORISTA BITUBE TTO 2022", "s": "", "t": 121.07, "m": 102.91, "d": ""},
            {"f": "PORTUGAL - LISBOA", "n": "ARTOLAS TINTO", "s": "2019", "t": 40.64, "m": 34.54, "d": "CASTEL√ÉO, ARAGONEZ"},
            {"f": "PORTUGAL - LISBOA", "n": "ARTOLAS BRANCO", "s": "2020", "t": 40.64, "m": 34.54, "d": "FERN√ÉO PIRES, ARINTO, SAUVIGNON BLANC"},
            {"f": "PORTUGAL - LISBOA", "n": "ARTOLAS ROS√â", "s": "2020", "t": 40.64, "m": 34.54, "d": "CASTEL√ÉO, TINTA RORIZ"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA BRANCO", "s": "2022", "t": 27.09, "m": 23.03, "d": "MARIA GOMES, BICAL"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA TINTO", "s": "2022", "t": 27.09, "m": 23.03, "d": "BAGA, TOURIGA NACIONAL, ARAGONEZ"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA ROS√â", "s": "2022", "t": 27.09, "m": 23.03, "d": "BAGA"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA BRANCO", "s": "2022", "t": 38.38, "m": 32.63, "d": "MARIA GOMES, BICAL"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA ROS√â", "s": "2022", "t": 38.38, "m": 32.63, "d": "BAGA"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA TINTO", "s": "2023", "t": 38.38, "m": 32.63, "d": "BAGA, TOURIGA NACIONAL, ARAGONEZ"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA FRISANTE BRANCO", "s": "2023", "t": 32.74, "m": 27.83, "d": ""},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA FRISANTE ROSE", "s": "2023", "t": 32.74, "m": 27.83, "d": ""},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA ESPUMANTE BRANCO", "s": "2022", "t": 52.87, "m": 44.94, "d": ""},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA ESPUMANTE ROSE", "s": "2022", "t": 52.87, "m": 44.94, "d": ""},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA BAG IN BOX BCO", "s": "2023", "t": 128.69, "m": 109.39, "d": "MARIA GOMES, BICAL"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA BAG IN BOX ROS√â", "s": "2023", "t": 128.69, "m": 109.39, "d": "BAGA"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA BAG IN BOX TTO", "s": "2023", "t": 128.69, "m": 109.39, "d": "BAGA, ARAGONEZ, TOURIGA NACIONAL, CASTEL√ÉO"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA RESERVA IG BCO", "s": "2020", "t": 64.35, "m": 54.7, "d": "BICAL, MARIA GOMES, ARINTO"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA RESERVA IG TTO", "s": "2018", "t": 64.35, "m": 54.7, "d": "BAGA, ARAGONEZ, TOURIGA NACIONAL"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA SIGNATURE DOC TTO", "s": "2017", "t": 90.69, "m": 77.09, "d": "BAGA"},
            {"f": "PORTUGAL - BAIRRADA", "n": "DA PIPA SIGNATURE DOC BCO", "s": "2019", "t": 90.69, "m": 77.09, "d": "ARINTO"},
            {"f": "PORTUGAL -AMARALEZA VINHOS -", "n": "FONTE DA PERDIZ RESERVA, TINTO", "s": "", "t": 68.13, "m": 57.91, "d": "DOURO DOC"},
            {"f": "PORTUGAL -AMARALEZA VINHOS -", "n": "FONTE DA PERDIZ, TINTO", "s": "", "t": 52.31, "m": 44.46, "d": "DOURO DOC"},
            {"f": "PORTUGAL -AMARALEZA VINHOS -", "n": "FONTE DA PERDIZ , BRANCO", "s": "", "t": 52.31, "m": 44.46, "d": "DOURO DOC"},
            {"f": "PORTUGAL -AMARALEZA VINHOS -", "n": "FONTE DA PERDIZ SUPERIOR, TINTO", "s": "2020", "t": 74.94, "m": 63.7, "d": "DOURO DOC"},
            {"f": "PORTUGAL -AMARALEZA VINHOS -", "n": "INTIMISTA", "s": "2023", "t": 31.8, "m": 27.03, "d": "TINTO"},
            {"f": "PORTUGAL -AMARALEZA VINHOS -", "n": "INTIMISTA", "s": "2023", "t": 31.8, "m": 27.03, "d": "BRANCO"},
            {"f": "PORTUGAL -AMARALEZA VINHOS -", "n": "INTIMISTA", "s": "2023", "t": 31.8, "m": 27.03, "d": "ROSE"},
            {"f": "PORTUGAL - A√áORES - DOC PICO", "n": "EURUPTIO, BLEND DOS ACORES, D.O PICO", "s": "2021", "t": 241.58, "m": 205.35, "d": "ARINTO,VERDELHO,TERRANTES"},
            {"f": "PORTUGAL - A√áORES - DOC PICO", "n": "ERUPTIO, DOS ACORES, D.O PICO", "s": "2020", "t": 301.42, "m": 256.2, "d": "ARINTO"},
            {"f": "PORTUGAL - A√áORES - DOC PICO", "n": "ERUPTIO, DOS ACORES, D.O PICO", "s": "2021", "t": 331.9, "m": 282.11, "d": "VERDELHO"},
            {"f": "PORTUGAL -LISBOA - FLOR DE LISBOA", "n": "FLOR DE LISBOA TINTO REGIONAL LISBOA", "s": "2021", "t": 36.88, "m": 31.35, "d": "ALICANTE BOUSCHET,CASTEL√ÉO,TGA NACIONAL"},
            {"f": "PORTUGAL -LISBOA - FLOR DE LISBOA", "n": "FLOR DE LISBOA BRANCO", "s": "2023", "t": 36.88, "m": 31.35, "d": "REGIONAL LISBOA"},
            {"f": "PORTUGAL -LISBOA - FLOR DE LISBOA", "n": "FLOR DE LISBOA ROSE", "s": "2023", "t": 36.88, "m": 31.35, "d": "REGIONAL LISBOA"},
            {"f": "PORTUGAL - ALENTEJO - HERDADE DA MADEIRA VELHA - ABELHARUCO", "n": "ABELHARUCO TINTO COLHEITA SELECIONADA", "s": "2021", "t": 48.92, "m": 41.58, "d": "ALICANTE,TRINCADEIRA,ARAGONEZ,SYRAH"},
            {"f": "PORTUGAL - ALENTEJO - HERDADE DA MADEIRA VELHA - ABELHARUCO", "n": "ABELHARUCO BRANCO COLHEITA SELECIONADA", "s": "2022", "t": 48.92, "m": 41.58, "d": "ANT√ÉO VAZ,ARINTO,VERDELHO"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO TINTO ESPECIAL", "s": "2021", "t": 98.29, "m": 83.55, "d": "ALICANTE,SYRAH,ARAGONEZ,CAB.SAUV.MERLOT"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO TINTO ESPECIAL", "s": "2021", "t": 98.29, "m": 83.55, "d": "ALICANTE,SYRAH,ARAGONEZ,CAB.SAUV.MERLOT"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO BRANCO ESPECIAL", "s": "2023", "t": 98.29, "m": 83.55, "d": "ARINTO,ALVARINHO,VERDELHO"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO BRANCO ESPECIAL", "s": "2022", "t": 98.29, "m": 83.55, "d": "ARINTO,ALVARINHO,VERDELHO"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO ROSE", "s": "", "t": 98.29, "m": 83.55, "d": ""},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO BRANCO", "s": "2020", "t": 98.29, "m": 83.55, "d": "VERDELHO"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO TINTO", "s": "2021", "t": 98.29, "m": 83.55, "d": "ALICANTE BOUSCHET"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO TINTO", "s": "2021", "t": 98.29, "m": 83.55, "d": "CABERNET SAUVIGNON"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO TINTO", "s": "2023", "t": 98.29, "m": 83.55, "d": "CABERNET SAUVIGNON"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO TINTO", "s": "2022", "t": 98.29, "m": 83.55, "d": "SYRAH"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO TINTO", "s": "2023", "t": 98.29, "m": 83.55, "d": "SYRAH"},
            {"f": "HERDADE DO GAMITO - ALENTEJO", "n": "HERDADE DO GAMITO RESERVA TINTO", "s": "2020", "t": 105.93, "m": 90.04, "d": "SYRAH,ALICANTE BOUCHET"},
            {"f": "PORTUGAL ADEGA COOPERATIVA DE MEDA", "n": "FLOR D'PENALVA, TINTO C.S", "s": "2021", "t": 44.59, "m": 37.9, "d": "DOC D√ÉO"},
            {"f": "PORTUGAL ADEGA COOPERATIVA DE MEDA", "n": "FLOR D'PENALVA, BRANCO C.S", "s": "2023", "t": 44.59, "m": 37.9, "d": "DOC D√ÉO"},
            {"f": "PORTUGAL ADEGA COOPERATIVA DE MEDA", "n": "FLOR D'PENALVA, TINTO RESERVA", "s": "2021", "t": 49.67, "m": 42.22, "d": "DOC D√ÉO"},
            {"f": "PORTUGAL ADEGA COOPERATIVA DE MEDA", "n": "GAI√ÉO", "s": "", "t": 45.05, "m": 38.29, "d": "TINTO"},
            {"f": "PORTUGAL ADEGA COOPERATIVA DE MEDA", "n": "GAI√ÉO RESERVA", "s": "", "t": 112.81, "m": 95.89, "d": "TINTO"},
            {"f": "PORTUGAL  - PONTE DA BARCA - VINHO VERDE", "n": "VINHO VERDE BRANCO GIGANTONES", "s": "2024", "t": 37.82, "m": 32.15, "d": "LOUREIRO, ARINTO, TRAJADURA"},
            {"f": "PORTUGAL  - PONTE DA BARCA - VINHO VERDE", "n": "VINHO VERDE ROSE GIGANTONES", "s": "2022", "t": 37.82, "m": 32.15, "d": "VINH√ÉO, BORRA√áAL, ESPADEIRO"},
            {"f": "PORTUGAL  - PONTE DA BARCA - VINHO VERDE", "n": "LATA VINHO VERDE BRANCO GIGANTONES", "s": "2023", "t": 21.17, "m": 17.99, "d": "LOUREIRO, ARINTO, TRAJADURA"},
            {"f": "PORTUGAL  - PONTE DA BARCA - VINHO VERDE", "n": "LATA VINHO VERDE BRANCO GIGANTONES", "s": "2024", "t": 21.17, "m": 17.99, "d": "LOUREIRO, ARINTO, TRAJADURA"},
            {"f": "PORTUGAL  - PONTE DA BARCA - VINHO VERDE", "n": "LATA VINHO VERDE ROSE GIGANTONES", "s": "2023", "t": 21.17, "m": 17.99, "d": "VINH√ÉO, BORRA√áAL, ESPADEIRO"},
            {"f": "PORTUGAL  - PONTE DA BARCA - VINHO VERDE", "n": "LATA VINHO VERDE ROSE GIGANTONES", "s": "2024", "t": 21.17, "m": 17.99, "d": "VINH√ÉO, BORRA√áAL, ESPADEIRO"},
            {"f": "PORTUGAL  - PONTE DA BARCA - VINHO VERDE", "n": "GAFA RESERVA VINHO VERDE DOC", "s": "2022", "t": 75.64, "m": 64.29, "d": "ALVARINHO"},
            {"f": "PORTUGAL - PORTO MARTHA‚ÄôS WINES & SPIRITS", "n": "MOSCATEL DO DOURO", "s": "", "t": 59.64, "m": 50.7, "d": "DOC"},
            {"f": "PORTUGAL - PORTO MARTHA‚ÄôS WINES & SPIRITS", "n": "PORTO WHITE", "s": "", "t": 71.87, "m": 61.09, "d": "Malvasia Fina Viosinho,Donzelinho,Gouveio,Moscatel,Rabigato"},
            {"f": "PORTUGAL - PORTO MARTHA‚ÄôS WINES & SPIRITS", "n": "PORTO RUBY", "s": "", "t": 71.87, "m": 61.09, "d": "Tga Nacional,Tga Franca,Tta Barroca,Tto C√£o,Tta Amarela,Tta Roriz"},
            {"f": "PORTUGAL - PORTO MARTHA‚ÄôS WINES & SPIRITS", "n": "PORTO TAWNY", "s": "", "t": 71.87, "m": 61.09, "d": "Tga Nacional,Tga Franca,Tta Barroca,Tto C√£o,Tta Amarela,Tta Roriz"},
            {"f": "PORTUGAL - PORTO MARTHA‚ÄôS WINES & SPIRITS", "n": "PORTO ROSE", "s": "", "t": 105.47, "m": 89.65, "d": ""},
            {"f": "PORTUGAL - PORTO MARTHA‚ÄôS WINES & SPIRITS", "n": "PORTO 10 ANOS", "s": "", "t": 219.6, "m": 186.66, "d": "Tga Nacional,Tga Franca,Tta Barroca,Tto C√£o,Tta Amarela,Tta Roriz"},
            {"f": "PORTUGAL - PORTO MARTHA‚ÄôS WINES & SPIRITS", "n": "PORTO 20 ANOS", "s": "", "t": 374.31, "m": 318.17, "d": "Tga Nacional,Tga Franca,Tta Barroca,Tto C√£o,Tta Amarela,Tta Roriz"},
            {"f": "PORTUGAL . AMARELEZA VINHOS . DOURO. VERDE . AMO.TE", "n": "AMO-TE BRANCO, VERDE DOC", "s": "2023", "t": 45.16, "m": 38.38, "d": "LOUREIRO,ARINTO,TRAJADURA"},
            {"f": "PORTUGAL . AMARELEZA VINHOS . DOURO. VERDE . AMO.TE", "n": "AMO-TE ROSE, VERDE DOC", "s": "2022", "t": 45.16, "m": 38.38, "d": "VINH√ÉO,BORRA√á√ÉL,ESPADEIRO"},
            {"f": "PORTUGAL . AMARELEZA VINHOS . DOURO. VERDE . AMO.TE", "n": "AMO-TE ROSE, VERDE DOC", "s": "2023", "t": 45.16, "m": 38.38, "d": "VINH√ÉO,BORRA√á√ÉL,ESPADEIRO"},
            {"f": "PORTUGAL . AMARELEZA VINHOS . DOURO. VERDE . AMO.TE", "n": "AMO-TE TINTO, DOURO DOC", "s": "2020", "t": 52.87, "m": 44.94, "d": "TGA NACIONAL,TTA RORIZ,TGA FRANCA,TTA BARROCA"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "C de CABRIZ", "s": "2022", "t": 42.6, "m": 36.21, "d": "TINTO"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "C de CABRIZ", "s": "2022", "t": 42.6, "m": 36.21, "d": "TINTO"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "C de CABRIZ", "s": "2022", "t": 42.6, "m": 36.21, "d": "BRANCO"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "C de CABRIZ", "s": "2022", "t": 42.6, "m": 36.21, "d": "ROSE"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "C de CABRIZ", "s": "2022", "t": 42.6, "m": 36.21, "d": "ROSE"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "C de CABRIZ", "s": "2022", "t": 53.25, "m": 45.26, "d": "VERDE BRANCO"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ MEIA GARRAFA COLHEITA SELECIONADA DOC TINTO", "s": "2022", "t": 37.87, "m": 32.19, "d": "Alfrocheiro, Aragonez, Touriga Nacional"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ COLHEITA SELECIONADA DOC TINTO", "s": "2022", "t": 63.59, "m": 54.06, "d": "Alfrocheiro, Aragonez, Touriga Nacional"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ MAGNUM COLHEITA SELECIONADA DOC TINTO", "s": "2022", "t": 143.86, "m": 122.28, "d": "Alfrocheiro, Aragonez, Touriga Nacional"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ MAGNUM COLHEITA SELECIONADA DOC TINTO", "s": "2022", "t": 143.86, "m": 122.28, "d": "Alfrocheiro, Aragonez, Touriga Nacional"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ MEIA GARRAFA COLHEITA SELECIONADA DOC BRANCO", "s": "2023", "t": 37.87, "m": 32.19, "d": "Bical, Cerceal,Encruzado,Malvasia"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ COLHEITA SELECIONADA DOC BRANCO", "s": "2023", "t": 63.59, "m": 54.06, "d": "Bical, Cerceal, Encruzado, Malvasia"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ ROSE COLHEITA SELECIONADA DOC", "s": "2023", "t": 63.59, "m": 54.06, "d": "ALFORCHEIRO, TOURIGA NACIONAL"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ RESERVA DOC TINTO", "s": "2020", "t": 130.0, "m": 110.5, "d": "TOURIGA NACIONAL,ALFROCHEIRO,ARAGONEZ"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ RESERVA DOC BRANCO", "s": "2022", "t": 130.0, "m": 110.5, "d": "ENCRUZADO"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ RESERVA ESPECIAL DOC TINTO", "s": "2016", "t": 350.2, "m": 297.67, "d": "TOURIGA NACIONAL,ALFROCHEIRO,ARAGONEZ"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ RESERVA ESPECIAL DOC TINTO", "s": "2014", "t": 350.2, "m": 297.67, "d": "TOURIGA NACIONAL,ALFROCHEIRO,ARAGONEZ"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ TOURIGA NACIONAL DOC TINTO", "s": "2016", "t": 175.1, "m": 148.83, "d": "100% TOURIGA NACIONAL"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ BIOL√ìGICO DOC TINTO", "s": "2022", "t": 69.0, "m": 58.65, "d": "TOURIGA NACIONAL, ARAGONEZ"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ BIOL√ìGICO DOC BRANCO", "s": "2022", "t": 69.0, "m": 58.65, "d": "ENCRUZADO, BICAL"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ √çMPAR", "s": "2011", "t": 698.24, "m": 593.5, "d": "TINTO"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ ESPUMANTE BRANCO BRUTO DOC", "s": "2017", "t": 63.59, "m": 54.06, "d": "MALVASIA FINA, BICAL"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "CABRIZ ESPUMANTE BRANCO MEIO SECO DOC", "s": "2019", "t": 63.59, "m": 54.06, "d": "MALVASIA FINA, BICAL"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "BAG IN BOX CABRIZ TINTO 3L", "s": "2022", "t": 170.83, "m": 145.2, "d": "ALFROCHEIRO,TINTA RORIZ"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "BAG IN BOX CABRIZ BRANCO 3L", "s": "2022", "t": 170.83, "m": 145.2, "d": "BICAL,ENCRUZADO,MALVASIA FINA"},
            {"f": "PORTUGAL . CABRIZ. D√ÉO", "n": "BAG IN BOX CABRIZ TINTO 3L", "s": "2023", "t": 170.83, "m": 145.2, "d": "ALFROCHEIRO,TINTA RORIZ"},
            {"f": "PORTUGAL . CASA DE SANTAR . D√ÉO", "n": "CASA DE SANTAR TINTO", "s": "2021", "t": 76.54, "m": 65.06, "d": "TGA NACIONAL,TTA RORIZ,ALFROCHEIRO"},
            {"f": "PORTUGAL . CASA DE SANTAR . D√ÉO", "n": "CASA DE SANTAR BRANCO", "s": "2023", "t": 76.54, "m": 65.06, "d": "ENCRUZADO,CERCEAL BRANCO,BICAL"},
            {"f": "PORTUGAL . CASA DE SANTAR . D√ÉO", "n": "CASA DE SANTAR ROS√â", "s": "2023", "t": 76.54, "m": 65.06, "d": "TGA NACIONAL,ALFROCHEIRO"},
            {"f": "PORTUGAL . CASA DE SANTAR . D√ÉO", "n": "CASA DE SANTAR RESERVA DOC TINTO", "s": "2020", "t": 195.0, "m": 165.75, "d": "TGA NACIONAL,TTA RORIZ,ALFROCHEIRO"},
            {"f": "PORTUGAL . CASA DE SANTAR . D√ÉO", "n": "CASA DE SANTAR RESERVA DOC BRANCO", "s": "2021", "t": 195.0, "m": 165.75, "d": "ENCRUZADO,BICAL,CERCEAL BRANCO"},
            {"f": "PORTUGAL . CASA DE SANTAR . D√ÉO", "n": "CASA DE SANTAR RESERVA DOC BRANCO", "s": "2022", "t": 195.0, "m": 165.75, "d": "ENCRUZADO,BICAL,CERCEAL BRANCO"},
            {"f": "PORTUGAL . CASA DE SANTAR . D√ÉO", "n": "CASA DE SANTAR OUTONO DE SANTAR DOC TINTO", "s": "2016", "t": 147.28, "m": 125.19, "d": "COLHEITA TARDIA"},
            {"f": "PORTUGAL . QUINTA DO ENCONTRO . BAIRRADA", "n": "ENCONTRO BAGA DOC TINTO", "s": "2016", "t": 82.52, "m": 70.14, "d": "BAGA"},
            {"f": "PORTUGAL . QUINTA DO ENCONTRO . BAIRRADA", "n": "ENCONTRO BAGA DOC TINTO", "s": "2015", "t": 82.52, "m": 70.14, "d": "BAGA"},
            {"f": "PORTUGAL . QUINTA DO ENCONTRO . BAIRRADA", "n": "QDO E. PRETO E BRANCO DOC TINTO", "s": "2019", "t": 68.32, "m": 58.07, "d": "BAGA, TGA NACIONAL"},
            {"f": "PORTUGAL . QUINTA DO ENCONTRO . BAIRRADA", "n": "QDO E. PRETO E BRANCO DOC BRANCO", "s": "2022", "t": 68.32, "m": 58.07, "d": "BICAL, ARINTO"},
            {"f": "PORTUGAL . QUINTA DO ENCONTRO . BAIRRADA", "n": "QDO E. HARMONIA DOC TINTO", "s": "2018", "t": 53.64, "m": 45.59, "d": "TOURIGA NACIONAL, BAGA"},
            {"f": "PORTUGAL . QUINTA DO ENCONTRO . BAIRRADA", "n": "QDO E. ESPUMANTE BRUTO BCO", "s": "2016", "t": 76.54, "m": 65.06, "d": "ARINTO, BICAL, BAGA"},
            {"f": "ESPANHA - BODEGAS RIOJANAS", "n": "VINA ALBINA RESERVA", "s": "2017", "t": 210.0, "m": 178.5, "d": "TEMPRANILLO, MAZUELO, GRACIANO"},
            {"f": "ESPANHA - BODEGAS RIOJANAS", "n": "VINA ALBINA GRAN RESERVA", "s": "2015", "t": 280.0, "m": 238.0, "d": "TEMPRANILLO, MAZUELO, GRACIANO"},
            {"f": "ESPANHA - BODEGAS RIOJANAS", "n": "MONTE REAL RESERVA DE FAMILIA", "s": "2019", "t": 210.0, "m": 178.5, "d": "100% TEMPRANILLO"},
            {"f": "ESPANHA - BODEGAS RIOJANAS", "n": "MONTE REAL GRAN RESERVA", "s": "2016", "t": 280.0, "m": 238.0, "d": "100% TEMPRANILLO"},
            {"f": "ESPANHA - BODEGAS RIOJANAS", "n": "MARQUES DE TOMARES GRAN RESERVA", "s": "2015", "t": 454.4, "m": 386.24, "d": "RIOJA"},
            {"f": "ESPANHA - BODEGAS RIOJANAS", "n": "MARQUES DE TOMARES EXCELLENS RESERVA", "s": "2018", "t": 238.6, "m": 202.81, "d": "RIOJA"},
            {"f": "ESPANHA - BODEGAS RIOJANAS", "n": "MARQUES DE TOMARES CRIANZA", "s": "2020", "t": 173.2, "m": 147.22, "d": "RIOJA"},
            {"f": "ESPANHA - BODEGAS RIOJANAS", "n": "MONTECILLO RESERVA", "s": "2017", "t": 199.0, "m": 169.15, "d": "D.O RIOJA"},
            {"f": "ESPANHA - BODEGAS RIOJANAS", "n": "MONTECILLO CRIANZA", "s": "2019", "t": 139.0, "m": 118.15, "d": "D.O RIOJA"},
            {"f": "ESPANHA - FREIXENET", "n": "VALDUBON CRIANZA", "s": "2019", "t": 189.9, "m": 161.42, "d": "RIBERA DEL DUERO"},
            {"f": "ESPANHA - FREIXENET", "n": "VALDUBON ROBLE", "s": "2021", "t": 129.9, "m": 110.42, "d": "RIBERA DEL DUERO"},
            {"f": "ESPANHA - FREIXENET", "n": "SOLAR VIEJO CRIANZA", "s": "2018", "t": 129.9, "m": 110.42, "d": "RIOJA"},
            {"f": "ESPANHA - FREIXENET", "n": "ORUBE CRIANZA", "s": "2018", "t": 169.9, "m": 144.42, "d": "RIOJA"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "LOS MOLINOS TEMPRANILLO", "s": "2023", "t": 36.12, "m": 30.71, "d": "VALDEPENAS"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "LOS MOLINOS BRANCO", "s": "2023", "t": 36.12, "m": 30.71, "d": "AIREN/VERDEJO - VALDEPENAS"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "LOS MOLINOS ROS√â", "s": "2023", "t": 36.12, "m": 30.71, "d": "TEMPRANILLO - VALDEPENAS"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "VINA ALBALI TEMPRANILLO", "s": "2023", "t": 41.68, "m": 35.43, "d": "VALDEPENAS"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "VINA ALBALI CRIANZA", "s": "2019", "t": 53.68, "m": 45.63, "d": "VALDEPENAS"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "VINA ALBALI RESERVA", "s": "2018", "t": 60.08, "m": 51.07, "d": "VALDEPENAS"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "VINA ALBALI GRAN RESERVA SELECCION PRIVADA", "s": "2017", "t": 72.86, "m": 61.94, "d": "VALDEPENAS"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "MUCHO MAS TINTO", "s": "", "t": 57.06, "m": 48.51, "d": "BLEND"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "MUCHO MAS BRANCO", "s": "", "t": 57.06, "m": 48.51, "d": "BLEND"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "MUCHO MAS ROSE", "s": "", "t": 57.06, "m": 48.51, "d": "BLEND"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "THE GUV'NOR TINTO", "s": "", "t": 57.06, "m": 48.51, "d": "BLEND"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "THE GUV'NOR BRANCO", "s": "", "t": 57.06, "m": 48.51, "d": "BLEND"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "THE GUV'NOR ROSE", "s": "", "t": 57.06, "m": 48.51, "d": "BLEND"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "THE GUV'NOR VIP TINTO", "s": "", "t": 89.0, "m": 75.65, "d": "TEMPRANILLO"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "ALTOS DE TAMARON ROBLE", "s": "2022", "t": 89.0, "m": 75.65, "d": "TEMPRANILLO"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "LA VACHE ESPAGNOLE TINTO", "s": "2024", "t": 36.12, "m": 30.71, "d": "TEMPRANILLO"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "BAJOS RESERVA", "s": "2018", "t": 52.88, "m": 44.95, "d": "TORO"},
            {"f": "ESPANHA - FELIX SOLIS", "n": "BAJOS CRIANZA", "s": "2020", "t": 48.88, "m": 41.55, "d": "TORO"},
            {"f": "ARGENTINA - RUTINI WINES", "n": "RUTINI QUALITA MALBEC", "s": "2022", "t": 130.0, "m": 110.5, "d": "BLEND"},
            {"f": "ARGENTINA - RUTINI WINES", "n": "RUTINI QUALITA CABERNET", "s": "2021", "t": 130.0, "m": 110.5, "d": "BLEND"},
            {"f": "ARGENTINA - RUTINI WINES", "n": "RUTINI QUALITA MALBEC", "s": "2021", "t": 221.0, "m": 187.85, "d": "SINGLE VINEYARD"},
            {"f": "ARGENTINA - RUTINI WINES", "n": "RUTINI QUALITA CABERNET", "s": "2020", "t": 221.0, "m": 187.85, "d": "SINGLE VINEYARD"},
            {"f": "ARGENTINA - EL ENEMIGO", "n": "EL ENEMIGO CHARDONNAY", "s": "2021", "t": 260.0, "m": 221.0, "d": "MENDOZA"},
            {"f": "ARGENTINA - EL ENEMIGO", "n": "EL ENEMIGO MALBEC", "s": "2020", "t": 260.0, "m": 221.0, "d": "MENDOZA"},
            {"f": "ARGENTINA - EL ENEMIGO", "n": "EL ENEMIGO SYRAH/VIOGNIER", "s": "2021", "t": 260.0, "m": 221.0, "d": "MENDOZA"},
            {"f": "ARGENTINA - EL ENEMIGO", "n": "EL ENEMIGO BONARDA", "s": "2020", "t": 260.0, "m": 221.0, "d": "MENDOZA"},
            {"f": "ARGENTINA - EL ENEMIGO", "n": "EL ENEMIGO CABERNET FRANC", "s": "2021", "t": 260.0, "m": 221.0, "d": "MENDOZA"},
            {"f": "ARGENTINA - CATENA ZAPATA", "n": "CATENA MALBEC", "s": "2021", "t": 182.0, "m": 154.7, "d": "MENDOZA"},
            {"f": "ARGENTINA - CATENA ZAPATA", "n": "CATENA CABERNET SAUVIGNON", "s": "2021", "t": 182.0, "m": 154.7, "d": "MENDOZA"},
            {"f": "ARGENTINA - CATENA ZAPATA", "n": "DV CATENA MALBEC/MALBEC", "s": "2021", "t": 234.0, "m": 198.9, "d": "MENDOZA"},
            {"f": "ARGENTINA - CATENA ZAPATA", "n": "DV CATENA CABERNET/MALBEC", "s": "2021", "t": 234.0, "m": 198.9, "d": "MENDOZA"},
            {"f": "ARGENTINA - CATENA ZAPATA", "n": "ANGELICA ZAPATA MALBEC", "s": "2019", "t": 416.0, "m": 353.6, "d": "ALTA"},
            {"f": "ARGENTINA - CATENA ZAPATA", "n": "ANGELICA ZAPATA CABERNET SAUVIGNON", "s": "2019", "t": 364.0, "m": 309.4, "d": "ALTA"},
            {"f": "√ÅFRICA DO SUL", "n": "STORMHOEK SYRAH", "s": "2025", "t": 33.9, "m": 28.81, "d": "WESTERN CAPE"},
            {"f": "√ÅFRICA DO SUL", "n": "STORMHOEK PINOTAGE", "s": "2025", "t": 33.9, "m": 28.81, "d": "WESTERN CAPE"},
            {"f": "√ÅFRICA DO SUL", "n": "STORMHOEK CHENIN BLANC", "s": "2025", "t": 33.9, "m": 28.81, "d": "WESTERN CAPE"},
            {"f": "√ÅFRICA DO SUL", "n": "STORMHOEK MOSCATO ROSE", "s": "2025", "t": 33.9, "m": 28.81, "d": "WESTERN CAPE"},
            {"f": "√ÅFRICA DO SUL", "n": "STORMHOEK MOSCATO BRANCO", "s": "2025", "t": 33.9, "m": 28.81, "d": "WESTERN CAPE"},
            {"f": "√ÅFRICA DO SUL", "n": "STORMHOEK PINOTAGE/SHIRAZ", "s": "2025", "t": 33.9, "m": 28.81, "d": "BAG IN BOX 3 LITROS"},
            {"f": "√ÅFRICA DO SUL", "n": "STORMHOEK CHENIN/CHARDONNAY", "s": "2025", "t": 33.9, "m": 28.81, "d": "BAG IN BOX 3 LITROS"},
            {"f": "√ÅFRICA DO SUL", "n": "VINHO S.A TTO STORMHOEK CABERNET/MERLOT (6X750ml)", "s": "2025", "t": 33.9, "m": 28.81, "d": ""},
            {"f": "√ÅFRICA DO SUL", "n": "VINHO S.A TTO STORMHOEK SHIRAZ/CABERNET (6X750ml)", "s": "2025", "t": 33.9, "m": 28.81, "d": ""},
            {"f": "√ÅFRICA DO SUL", "n": "VINHO S.A TTO STORMHOEK PINOTAGE/MALBEC (6X750ml)", "s": "2025", "t": 33.9, "m": 28.81, "d": ""},
            {"f": "√ÅFRICA DO SUL", "n": "VINHO S.A BCO STORMHOEK PINOT GRIGIO (6X750ml)", "s": "2025", "t": 33.9, "m": 28.81, "d": ""},
            {"f": "√ÅFRICA DO SUL", "n": "VINHO S.A BCO STORMHOEK CHARD./VIOGNIER (6X750ml)", "s": "2025", "t": 33.9, "m": 28.81, "d": ""}
        ];

        const format = (v) => v.toLocaleString('pt-BR', { style: 'currency', currency: 'BRL' });

        function init() {
            renderTable(wineData);
            document.getElementById('counter').innerText = `Sincronizado: ${wineData.length} Itens`;
        }

        function renderTable(data) {
            const body = document.getElementById('table-content');
            let html = '';
            let currentFam = '';

            data.forEach((item, index) => {
                if (item.f !== currentFam) {
                    currentFam = item.f;
                    html += `<tr class="family-header"><td colspan="4" class="p-4 text-[10px] font-black text-[#722f37] uppercase tracking-widest">${currentFam}</td></tr>`;
                }
                const vendaML = item.t * 1.45;
                const originalIndex = wineData.findIndex(w => w.n === item.n && w.s === item.s);

                html += `<tr class="wine-row border-b border-gray-50 hover:bg-slate-50 transition-all" onclick="showDetail(${originalIndex}, this)">
                    <td class="p-6">
                        <div class="font-bold text-gray-800 text-base leading-tight">${item.n}</div>
                        <div class="text-[10px] text-gray-400 font-mono">${item.s}</div>
                    </td>
                    <td class="p-6 font-black text-amber-700 text-lg font-mono">${format(vendaML)}</td>
                    <td class="hidden sm:table-cell p-6 text-gray-400 font-mono text-xs">${format(item.t)}</td>
                    <td class="hidden md:table-cell p-6 text-emerald-600 font-black font-mono text-base">${format(item.m)}</td>
                </tr>`;
            });
            body.innerHTML = html;
        }

        function showDetail(index, element) {
            document.querySelectorAll('.wine-row').forEach(r => r.classList.remove('selected-row'));
            element.classList.add('selected-row');
            const item = wineData[index];
            const vendaML = item.t * 1.45;
            const searchUrl = `https://www.google.com/search?tbm=shop&q=${encodeURIComponent(item.n + ' ' + item.s)}&tbs=p_ord:p`;

            document.getElementById('det-name').innerText = item.n;
            document.getElementById('det-ml').innerText = format(vendaML);
            document.getElementById('det-tab').innerText = format(item.t);
            document.getElementById('det-mkt').innerText = format(item.m);
            document.getElementById('det-desc').innerText = "Obs: " + (item.d || "---");
            
            // ATUALIZA O LINK NO BOT√ÉO VERDE
            document.getElementById('det-mkt-link').href = searchUrl;
        }

        function filterTable() {
            const q = document.getElementById('search-bar').value.toLowerCase();
            const body = document.getElementById('table-content');
            
            if (q === "") {
                renderTable(wineData);
                return;
            }

            const matches = wineData.filter(item => 
                item.n.toLowerCase().includes(q) || 
                item.f.toLowerCase().includes(q)
            );

            // Re-renderiza com os matches no topo
            let html = '<tr class="bg-amber-50"><td colspan="4" class="p-2 text-center text-[9px] font-black text-amber-600 uppercase tracking-widest">Resultados da Busca</td></tr>';
            
            if (matches.length === 0) {
                 html += '<tr><td colspan="4" class="p-8 text-center text-gray-400">Nenhum vinho encontrado.</td></tr>';
            } else {
                matches.forEach((item) => {
                    const originalIndex = wineData.findIndex(w => w.n === item.n && w.s === item.s);
                    const vendaML = item.t * 1.45;
                    html += `<tr class="wine-row border-b border-amber-100 bg-white hover:bg-amber-50 shadow-sm" onclick="showDetail(${originalIndex}, this)">
                        <td class="p-6"><div class="font-bold text-gray-800 text-base">${item.n}</div><div class="text-[10px] text-gray-400 font-mono">${item.s}</div></td>
                        <td class="p-6 font-black text-amber-700 text-lg font-mono">${format(vendaML)}</td>
                        <td class="hidden sm:table-cell p-6 text-gray-400 font-mono text-xs">${format(item.t)}</td>
                        <td class="hidden md:table-cell p-6 text-emerald-600 font-black font-mono text-base">${format(item.m)}</td>
                    </tr>`;
                });
            }
            body.innerHTML = html;
        }

        window.onload = init;
    </script>
</body>
</html>

