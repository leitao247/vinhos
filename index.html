<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Motor Enogastronômico Profissional</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
body{
margin:0;
font-family:'Inter',sans-serif;
background:linear-gradient(180deg,#5b0f19,#2a0b10);
color:white;
}

header{
padding:70px 20px;
text-align:center;
}

header h1{
font-family:'Playfair Display',serif;
font-size:42px;
margin:0;
}

.container{
max-width:1200px;
margin:0 auto 80px;
padding:0 20px;
}

.section{
background:rgba(255,255,255,0.08);
padding:35px;
border-radius:18px;
margin-bottom:40px;
backdrop-filter:blur(12px);
box-shadow:0 25px 50px rgba(0,0,0,0.4);
}

.section h2{
font-family:'Playfair Display';
margin-top:0;
color:#f8d7da;
}

select,button{
padding:10px 14px;
border-radius:8px;
border:none;
margin-right:10px;
}

button{
background:#a61f33;
color:white;
cursor:pointer;
}

.grid{
display:grid;
grid-template-columns:repeat(3,1fr);
gap:20px;
margin-top:25px;
}

.card{
background:rgba(255,255,255,0.12);
padding:15px;
border-radius:12px;
}

.card img{
width:100%;
border-radius:10px;
}

.score{
margin-top:8px;
font-weight:600;
color:#ffd6d6;
}

.just{
font-size:13px;
opacity:0.85;
margin-top:6px;
}

@media(max-width:900px){
.grid{
grid-template-columns:1fr;
}
}
</style>
</head>
<body>

<header>
<h1>Motor Enogastronômico Profissional</h1>
</header>

<div class="container">

<div class="section">
<h2>Harmonização Técnica por Rótulo</h2>
<select id="wineSelect"></select>
<button onclick="buscarPratos()">Buscar Top 3</button>
<div id="resultado"></div>
</div>

</div>

<script>

/* COLE AQUI SUA LISTA COMPLETA */
const INVENTORY=[
{ name:"Espumante Porta 6 Brut", price:55.12, chem:{acid:"Alta", body:"Leve", sugar:"Seco"} },
{ name:"Cabriz Touriga Nacional", price:110.94, chem:{acid:"Alta", body:"Estruturado", tanin:"Firme", sugar:"Seco"} },
{ name:"Porta 6 Reserva", price:80.91, chem:{acid:"Média", body:"Médio", tanin:"Macio", sugar:"Seco"} },
{ name:"Porto Ruby Martha's", price:63.60, chem:{acid:"Baixa", body:"Licoroso", sugar:"Doce"} }
];

const wineSelect=document.getElementById("wineSelect");

INVENTORY.forEach(w=>{
let opt=document.createElement("option");
opt.value=w.name;
opt.textContent=w.name+" (R$ "+w.price+")";
wineSelect.appendChild(opt);
});

function getWine(name){
return INVENTORY.find(w=>w.name===name);
}

function definirCategoria(w){
if(w.chem.sugar==="Doce") return "Dessert";
if(w.chem.body==="Estruturado" || w.chem.tanin==="Firme") return "Beef";
if(w.chem.body==="Médio") return "Pasta";
return "Seafood";
}

function calcularScore(w, categoria){
let score=0;
if(w.chem.sugar==="Doce" && categoria==="Dessert") score+=3;
if(w.chem.body==="Estruturado" && categoria==="Beef") score+=2;
if(w.chem.body==="Médio" && categoria==="Pasta") score+=2;
if(w.chem.acid==="Alta" && categoria==="Seafood") score+=2;
return score;
}

async function buscarPratos(){
let vinho=getWine(wineSelect.value);
let categoria=definirCategoria(vinho);

const res=await fetch(`https://www.themealdb.com/api/json/v1/1/filter.php?c=${categoria}`);
const data=await res.json();

let pratos=data.meals.slice(0,6);

let ranking=pratos.map(p=>{
return{
nome:p.strMeal,
img:p.strMealThumb,
score:calcularScore(vinho,categoria)
}
}).sort((a,b)=>b.score-a.score).slice(0,3);

let html="<div class='grid'>";
ranking.forEach(r=>{
html+=`
<div class="card">
<img src="${r.img}">
<div class="score">${r.nome}</div>
<div class="just">Score técnico: ${r.score} • Categoria: ${categoria}</div>
</div>
`;
});
html+="</div>";

document.getElementById("resultado").innerHTML=html;
}

</script>

</body>
</html>
